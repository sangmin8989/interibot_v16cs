# KPI 계측 명세서 비교 분석

## 명세서 요약

### 명세서 1: KPI 계측 연결 (권장, 바로 가치 증명)
- **목표 KPI**: 결정 완료 시간, 옵션 변경 횟수, LOCK 변경 시도 횟수
- **완료 기준**: 평균 결정 시간 8-12분, 옵션 변경 3회 이하, LOCK 재변경 시도 ≤1회
- **효과**: "왜 인테리봇이 다른지"를 숫자로 증명, 투자/세일즈/PR에 바로 사용 가능
- **추가**: 실사용자 파일럿 5명 포함
- **커서 지시문**: 간결하지만 핵심만 포함

### 명세서 2: 현재 공식 상태 + 다음 단계
- **현재 상태 설명**: LOCK 3종 완성, 선택권 제어, 판단 단일 루트, 엔진 무결성 유지
- **다음 단계**: ① KPI 계측 연결 (권장), ② 실사용자 파일럿 5명
- **커서 명령어**: 매우 상세함 (계측 항목, 구현 규칙, 금지 사항, 완료 기준 모두 포함)

### 명세서 3: 현재 인테리봇의 상태 + 다음 단계 선택
- **현재 상태**: 한 줄 요약 ("추천하지 않는 AI, 되돌릴 수 없는 선택을 구조로 보호하는 플랫폼")
- **다음 단계**: 1️⃣ KPI 계측 연결 (권장), 2️⃣ 실사용자 파일럿 (5명)
- **커서 명령어**: 없음 (선택만 제시)

---

## 평가 기준별 점수

### 1. 명확성 (Clarity) - 30점

| 명세서 | 점수 | 평가 |
|--------|------|------|
| 명세서 1 | 22/30 | KPI 목표와 완료 기준이 명확. 하지만 구현 세부사항이 부족. |
| 명세서 2 | 28/30 | 가장 상세함. 계측 항목, 구현 규칙, 금지 사항, 완료 기준 모두 명시. |
| 명세서 3 | 15/30 | 개념 설명은 명확하지만, 구현 가이드가 없어 실행 불가. |

### 2. 구현 난이도 (Implementation Difficulty) - 30점

| 명세서 | 점수 | 평가 |
|--------|------|------|
| 명세서 1 | 25/30 | 기본 구조는 명확하지만, 이벤트 훅 위치와 DB 스키마가 불명확. |
| 명세서 2 | 27/30 | 구현 규칙이 상세하여 난이도 예측 가능. DB 스키마 변경 최소화 명시. |
| 명세서 3 | 10/30 | 구현 가이드가 없어 난이도 판단 불가. |

### 3. 실용성 (Practicality) - 25점

| 명세서 | 점수 | 평가 |
|--------|------|------|
| 명세서 1 | 23/25 | 투자/세일즈/PR 활용 가능성 명시. 파일럿 포함으로 실용성 높음. |
| 명세서 2 | 24/25 | 엔진 무결성 유지 강조. 실무 적용 가능성 높음. |
| 명세서 3 | 18/25 | 개념은 명확하지만 실행 방법이 없어 실용성 낮음. |

### 4. 완성도 (Completeness) - 15점

| 명세서 | 점수 | 평가 |
|--------|------|------|
| 명세서 1 | 12/15 | 기본 구조는 있지만 세부 구현 가이드 부족. |
| 명세서 2 | 15/15 | 모든 필요한 정보 포함 (계측 항목, 규칙, 금지, 완료 기준). |
| 명세서 3 | 8/15 | 개념만 있고 실행 가이드 없음. |

---

## 종합 점수

| 명세서 | 명확성 | 구현 난이도 | 실용성 | 완성도 | **총점** |
|--------|--------|-------------|--------|--------|----------|
| **명세서 1** | 22 | 25 | 23 | 12 | **82/100** |
| **명세서 2** | 28 | 27 | 24 | 15 | **94/100** ⭐ |
| **명세서 3** | 15 | 10 | 18 | 8 | **51/100** |

---

## 상세 분석

### 명세서 1의 장점
- ✅ 투자/세일즈/PR 활용 가능성 명시 (비즈니스 가치 명확)
- ✅ 실사용자 파일럿 포함 (검증 가능)
- ✅ 완료 기준이 구체적 (8-12분, 3회 이하, ≤1회)

### 명세서 1의 단점
- ❌ 이벤트 훅 위치 불명확 (프론트? 서버?)
- ❌ DB 스키마 설계 가이드 없음
- ❌ 세션 추적 방법 불명확

### 명세서 2의 장점
- ✅ **가장 상세한 구현 가이드** (계측 항목, 규칙, 금지, 완료 기준 모두 포함)
- ✅ 엔진 무결성 유지 강조 (기존 로직 보호)
- ✅ DB 스키마 변경 최소화 명시 (이벤트 테이블 1개 허용)
- ✅ 프론트/서버 역할 분리 명확 (프론트는 이벤트만, 계산은 서버)

### 명세서 2의 단점
- ⚠️ 비즈니스 가치 설명이 명세서 1보다 약함

### 명세서 3의 장점
- ✅ 개념 설명이 명확 ("결정 보호 플랫폼")

### 명세서 3의 단점
- ❌ 구현 가이드 없음 (실행 불가)
- ❌ 커서 명령어 없음

---

## 최종 추천

### 🏆 명세서 2 선택 (94점)

**이유:**
1. **구현 가능성 최고**: 모든 필요한 정보가 포함되어 있어 바로 실행 가능
2. **엔진 보호**: 기존 로직 수정 금지 명시로 안정성 확보
3. **명확한 역할 분리**: 프론트/서버 책임이 명확하여 협업 용이
4. **DB 스키마 최소화**: 이벤트 테이블 1개만 추가하여 리스크 최소화

### 보완 제안

명세서 2를 기본으로 하되, 명세서 1의 다음 요소를 추가:
- ✅ 비즈니스 가치 설명 (투자/세일즈/PR 활용)
- ✅ 실사용자 파일럿 5명 검증 단계

---

## 실행 계획 (명세서 2 기준)

### Phase 1: 이벤트 시스템 구축
1. 프론트엔드 이벤트 훅 추가
   - `decisionStartAt`: 질문 시작 시각
   - `optionChange`: 옵션 변경 이벤트
   - `lockOverrideAttempt`: LOCK 변경 시도 이벤트
   - `decisionEndAt`: 견적 요약 확정 시각

2. 서버 API 엔드포인트 추가
   - `POST /api/kpi/events`: 이벤트 수집
   - `GET /api/kpi/session/:sessionId`: 세션별 KPI 조회

### Phase 2: DB 스키마 추가
- `kpi_events` 테이블 1개만 추가
  - `session_id`, `event_type`, `event_data`, `timestamp`

### Phase 3: KPI 계산 로직
- 서버에서 `decisionDurationMs`, `optionChangeCount`, `lockOverrideAttemptCount` 계산

### Phase 4: 검증
- 테스트 세션에서 KPI 산출 확인

---

## 결론

**명세서 2를 선택하고, 명세서 1의 비즈니스 가치 설명을 추가하여 실행하자.**













