# ì¸í…Œë¦¬ë´‡ ì„±í–¥ë¶„ì„ ì—”ì§„ ë³´ì™„ ë¶„ì„ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025ë…„ 12ì›” 16ì¼  
**ëª©ì **: í†µí•© ë¶„ì„ ë³´ê³ ì„œ ë³´ì™„ ìš”ì²­ ì‚¬í•­ ìƒì„¸ ë¶„ì„ ë° ë‹µë³€  
**ì‘ì„±ì**: AI Assistant

---

## ğŸ“‹ ëª©ì°¨

1. [ê¸°ì¡´ DBì™€ ì‹ ê·œ DB ê´€ê³„ ì •ë¦¬](#1-ê¸°ì¡´-dbì™€-ì‹ ê·œ-db-ê´€ê³„-ì •ë¦¬)
2. [ëˆ„ë½ í•„ë“œ í™•ì¸ ë° ì…ë ¥ ë°©ë²• í™•ì •](#2-ëˆ„ë½-í•„ë“œ-í™•ì¸-ë°-ì…ë ¥-ë°©ë²•-í™•ì •)
3. [ì„ íƒ ì¥ì•  ëŒ€ì‘ ë¡œì§ ì¶”ê°€](#3-ì„ íƒ-ì¥ì• -ëŒ€ì‘-ë¡œì§-ì¶”ê°€)
4. [ì•„ë¥´ì   ì œì‘ í•­ëª© ì¶”ì²œ ë¡œì§](#4-ì•„ë¥´ì  -ì œì‘-í•­ëª©-ì¶”ì²œ-ë¡œì§)
5. [í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì²´í™”](#5-í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤-êµ¬ì²´í™”)
6. [ì¼ì • ì¬ì¡°ì •](#6-ì¼ì •-ì¬ì¡°ì •)
7. [ìºì‹± ì „ëµ êµ¬ì²´í™”](#7-ìºì‹±-ì „ëµ-êµ¬ì²´í™”)
8. [ì´ì‚¬ vs ë¦¬ëª¨ë¸ë§ ë¹„ìš© ë¹„êµ ê¸°ëŠ¥](#8-ì´ì‚¬-vs-ë¦¬ëª¨ë¸ë§-ë¹„ìš©-ë¹„êµ-ê¸°ëŠ¥)

---

## 1. ê¸°ì¡´ DBì™€ ì‹ ê·œ DB ê´€ê³„ ì •ë¦¬

### 1.1 í˜„ì¬ DB í…Œì´ë¸” í˜„í™©

**ê¸°ì¡´ í…Œì´ë¸” (í™•ì¸ë¨):**
- âœ… `personality_traits` - 15ê°œ ì„±í–¥ í•­ëª© (trait_code, trait_name, trait_category)
- âœ… `personality_materials` - ì„±í–¥-ìì¬ ë§¤í•‘ (trait_id â†’ material_id)
- âœ… `answer_score_mapping` - ë‹µë³€-ì ìˆ˜ ë§¤í•‘ (question_id, answer_value â†’ trait_scores)

**ì‹ ê·œ í…Œì´ë¸” (ì œì•ˆ):**
- `personality_types` - íƒ€ì… ê¸°ë°˜ ë¶„ë¥˜ (lifestyle_remote, decision_solo ë“±)
- `pyeong_characteristics` - í‰í˜•ë³„ íŠ¹ì„±
- `building_age_risks` - ì—°ì‹ë³„ í•˜ì
- `age_preferences` - ì—°ë ¹ë³„ ì„ í˜¸
- `family_needs` - ê°€ì¡± êµ¬ì„±ë³„ ë‹ˆì¦ˆ
- `budget_benchmarks` - ê²¬ì  ê¸°ì¤€ì 
- `warning_templates` - ê²½ê³  ë¬¸êµ¬
- `risk_factors` - í›„íšŒ ìœ„í—˜ ë°ì´í„°
- `personality_material_mapping` - ì„±í–¥ íƒ€ì…â†’ìì¬ ë§¤í•‘ (í‚¤ì›Œë“œ ê¸°ë°˜)

### 1.2 ê´€ê³„ë„

```
ê¸°ì¡´ ì‹œìŠ¤í…œ (ì ìˆ˜ ê¸°ë°˜)
â”œâ”€â”€ personality_traits (15ê°œ í•­ëª©)
â”‚   â””â”€â”€ personality_materials (ì ìˆ˜ threshold ê¸°ë°˜)
â”‚       â””â”€â”€ materials (ìì¬ DB)
â””â”€â”€ answer_score_mapping (ë‹µë³€ â†’ ì ìˆ˜)

ì‹ ê·œ ì‹œìŠ¤í…œ (íƒ€ì… ê¸°ë°˜)
â”œâ”€â”€ personality_types (íƒ€ì… ë¶„ë¥˜)
â”‚   â””â”€â”€ personality_material_mapping (í‚¤ì›Œë“œ ê¸°ë°˜)
â”‚       â””â”€â”€ materials (ìì¬ DB)
â””â”€â”€ [ë³´ì¡° í…Œì´ë¸”ë“¤]
    â”œâ”€â”€ pyeong_characteristics
    â”œâ”€â”€ building_age_risks
    â”œâ”€â”€ age_preferences
    â”œâ”€â”€ family_needs
    â”œâ”€â”€ budget_benchmarks
    â”œâ”€â”€ warning_templates
    â””â”€â”€ risk_factors
```

### 1.3 í†µí•© ë°©ì•ˆ

**ë°©ì•ˆ: ë³‘í–‰ ì‚¬ìš© (í•˜ì´ë¸Œë¦¬ë“œ)**

**ì´ìœ :**
1. ê¸°ì¡´ `personality_traits`ëŠ” ì ìˆ˜ ê¸°ë°˜ ì •ëŸ‰ ë¶„ì„ì— í•„ìˆ˜
2. ì‹ ê·œ `personality_types`ëŠ” íƒ€ì… ê¸°ë°˜ ì§ê´€ì  ë¶„ë¥˜ì— ìœ ìš©
3. ë‘ ì‹œìŠ¤í…œì€ ì„œë¡œ ë³´ì™„ ê´€ê³„

**ë§¤í•‘ í…Œì´ë¸” ì¶”ê°€ (ì„ íƒì‚¬í•­):**

```sql
-- ì ìˆ˜ â†’ íƒ€ì… ë§¤í•‘ í…Œì´ë¸” (ì„ íƒì‚¬í•­)
CREATE TABLE IF NOT EXISTS trait_to_type_mapping (
  mapping_id SERIAL PRIMARY KEY,
  trait_code VARCHAR(50) REFERENCES personality_traits(trait_code),
  type_code VARCHAR(50) REFERENCES personality_types(type_code),
  score_range_min INT, -- ì´ ì ìˆ˜ ì´ìƒì¼ ë•Œ ì´ íƒ€ì…
  score_range_max INT, -- ì´ ì ìˆ˜ ì´í•˜ì¼ ë•Œ ì´ íƒ€ì…
  weight DECIMAL(3,2) DEFAULT 1.0, -- ê°€ì¤‘ì¹˜
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì˜ˆì‹œ: organization_habit ì ìˆ˜ 8 ì´ìƒ â†’ personality_clean íƒ€ì…
INSERT INTO trait_to_type_mapping VALUES
('organization_habit', 'personality_clean', 8, 10, 1.0),
('cleaning_preference', 'personality_clean', 7, 10, 0.8);
```

**ê¶Œì¥ì‚¬í•­:**
- âœ… **ë³‘í–‰ ì‚¬ìš©**: ê¸°ì¡´ í…Œì´ë¸” ìœ ì§€ + ì‹ ê·œ í…Œì´ë¸” ì¶”ê°€
- âš ï¸ **ë§¤í•‘ í…Œì´ë¸”**: ì´ˆê¸°ì—ëŠ” ì„ íƒì‚¬í•­, ë‚˜ì¤‘ì— í•„ìš”í•˜ë©´ ì¶”ê°€
- âœ… **ì ìˆ˜ + íƒ€ì…**: ì ìˆ˜ë¡œ ì •ëŸ‰ ë¶„ì„, íƒ€ì…ìœ¼ë¡œ ì§ê´€ì  ë¶„ë¥˜

### 1.4 ë§ˆì´ê·¸ë ˆì´ì…˜ ë°©ì•ˆ

**ë§ˆì´ê·¸ë ˆì´ì…˜ ë¶ˆí•„ìš”:**
- ê¸°ì¡´ ë°ì´í„° ê·¸ëŒ€ë¡œ ì‚¬ìš©
- ì‹ ê·œ í…Œì´ë¸”ì€ ë…ë¦½ì ìœ¼ë¡œ ì¶”ê°€
- ì ìˆ˜ ì‹œìŠ¤í…œê³¼ íƒ€ì… ì‹œìŠ¤í…œ ë³‘í–‰

**ë°ì´í„° ì…ë ¥ ìˆœì„œ:**
1. ê¸°ì¡´ í…Œì´ë¸” í™•ì¸ (personality_traits, personality_materials)
2. ì‹ ê·œ í…Œì´ë¸” ìƒì„± (personality_types ë“±)
3. ì´ˆê¸° ë°ì´í„° INSERT
4. ë§¤í•‘ í…Œì´ë¸” ìƒì„± (ì„ íƒì‚¬í•­)

---

## 2. ëˆ„ë½ í•„ë“œ í™•ì¸ ë° ì…ë ¥ ë°©ë²• í™•ì •

### 2.1 building_age (ì¤€ê³µì—°ë„/ì—°ì‹)

**í˜„ì¬ ìƒíƒœ:**
- âŒ `spaceInfo`ì— `building_age` í•„ë“œ ì—†ìŒ
- âš ï¸ `InputAdapter.getBuildingAge()`ì—ì„œ `(spaceInfo as any).buildingAge` ì‚¬ìš© (ê¸°ë³¸ê°’ 10ë…„)
- âœ… `livingYears`ëŠ” ìˆìŒ (ê±°ì£¼ ê¸°ê°„, ì—°ì‹ê³¼ ë‹¤ë¦„)

**í™•ì¸ ì½”ë“œ:**
```typescript
// lib/analysis/engine-v3.1-core/engines/InputAdapter.ts:424
private static getBuildingAge(spaceInfo: SpaceInfo): BuildingAge {
  const age = (spaceInfo as any).buildingAge || 10; // ê¸°ë³¸ê°’ 10ë…„
  if (age <= 5) return 'new';
  if (age <= 15) return 'semi-new';
  return 'old';
}
```

**ì…ë ¥ ë°©ì•ˆ:**

**ë°©ì•ˆ 1: UI ì¶”ê°€ (ê¶Œì¥)**
- ìœ„ì¹˜: `app/space-info/page.tsx`
- í•„ë“œ: "ì¤€ê³µì—°ë„" ë˜ëŠ” "ê±´ë¬¼ ì—°ì‹"
- ì…ë ¥ ë°©ì‹: ë“œë¡­ë‹¤ìš´ (0-5ë…„, 6-10ë…„, 11-15ë…„, 16-20ë…„, 21-30ë…„, 30ë…„ ì´ìƒ)
- ê³„ì‚°: í˜„ì¬ ì—°ë„ - ì¤€ê³µì—°ë„ = building_age

**ë°©ì•ˆ 2: ê¸°ë³¸ê°’ ì‚¬ìš© (ì„ì‹œ)**
- ê·œì¹™ì„œ ë¶„ë¥˜ ì—”ì§„ì—ì„œ ê¸°ë³¸ê°’ 10ë…„ ì‚¬ìš©
- ë‚˜ì¤‘ì— UI ì¶”ê°€

**ë°©ì•ˆ 3: ë‹¤ë¥¸ í•„ë“œì—ì„œ ì¶”ë¡  (ì œí•œì )**
- `housingType`ì´ 'êµ¬ì¶•'ì´ë©´ í‰ê·  20ë…„ ê°€ì •
- ì •í™•ë„ ë‚®ìŒ

**ê¶Œì¥ì‚¬í•­:**
- âœ… **Phase 1ì—ì„œ UI ì¶”ê°€**: space-info í˜ì´ì§€ì— "ì¤€ê³µì—°ë„" í•„ë“œ ì¶”ê°€
- âœ… **ê¸°ë³¸ê°’ ì„¤ì •**: ì…ë ¥ ì—†ìœ¼ë©´ 10ë…„ìœ¼ë¡œ ê°€ì •
- âœ… **í•„ìˆ˜ ì•„ë‹˜**: ì…ë ¥ ì—†ì–´ë„ ë¶„ë¥˜ ì—”ì§„ ì‘ë™ ê°€ëŠ¥ (ê¸°ë³¸ê°’ ì‚¬ìš©)

### 2.2 PainPoints (ë¶ˆí¸ ì‚¬í•­)

**í˜„ì¬ ìƒíƒœ:**
- âš ï¸ ëª…ì‹œì  PainPoints í•„ë“œ ì—†ìŒ
- âœ… ì§ˆë¬¸ì—ì„œ ë¶ˆí¸ ì‚¬í•­ ìˆ˜ì§‘ (`standard_daily_discomfort`, `primary_discomfort`)
- âœ… `discomfort_factors` ì ìˆ˜ë¡œ ë°˜ì˜ë¨

**í™•ì¸ ì½”ë“œ:**
```typescript
// lib/analysis/questions/standard.ts:23
{
  id: 'standard_daily_discomfort',
  category: 'discomfort_factors',
  title: 'í˜„ì¬ ì§‘ì—ì„œ "ë§¤ì¼ ë¶ˆí¸í•˜ì§€ë§Œ ì°¸ê³  ë„˜ì–´ê°€ëŠ” ê²ƒ"ì— ê°€ì¥ ê°€ê¹Œìš´ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?',
  options: [
    { id: 'storage', text: 'ìˆ˜ë‚©ê³µê°„ ë¶€ì¡±' },
    { id: 'flow', text: 'ë™ì„ ì´ ë¶ˆí¸í•¨' },
    { id: 'lighting', text: 'ì¡°ëª…Â·ì±„ê´‘ì´ ë‹µë‹µí•¨' },
    { id: 'materials', text: 'ë§ˆê°ì¬Â·ìƒ‰ê°ì´ ë§ˆìŒì— ì•ˆ ë“¦' },
    { id: 'layout', text: 'ê°€êµ¬ ë°°ì¹˜ê°€ ì–´ìƒ‰í•˜ê³  ê³µê°„ì´ ì¢ê²Œ ëŠê»´ì§' }
  ]
}
```

**ì…ë ¥ ë°©ì•ˆ:**

**ë°©ì•ˆ 1: ì§ˆë¬¸ ë‹µë³€ì—ì„œ ì¶”ì¶œ (ê¶Œì¥)**
```typescript
function extractPainPoints(answers: Record<string, string>): PainPoints {
  return {
    // ì…ì§€í˜•
    noise_neighbor: answers['noise_concern']?.includes('neighbor') || false,
    commute_distance: answers['location_issue']?.includes('commute') || false,
    school_district: answers['location_issue']?.includes('school') || false,
    neighborhood: answers['location_issue']?.includes('neighborhood') || false,
    
    // ê³µê°„í˜•
    kitchen_small: answers['standard_daily_discomfort'] === 'storage' && 
                   answers['kitchen_issue']?.includes('small') || false,
    storage_lack: answers['standard_daily_discomfort'] === 'storage' || false,
    layout_bad: answers['standard_daily_discomfort'] === 'layout' || false,
    bathroom_old: answers['bathroom_issue']?.includes('old') || false,
    interior_old: answers['standard_daily_discomfort'] === 'materials' || false,
    lighting_bad: answers['standard_daily_discomfort'] === 'lighting' || false,
    internal_noise: answers['noise_concern']?.includes('internal') || false
  };
}
```

**ë°©ì•ˆ 2: UI ì¶”ê°€ (ì„ íƒì‚¬í•­)**
- ìœ„ì¹˜: space-info í˜ì´ì§€ ë˜ëŠ” ë³„ë„ í™”ë©´
- ì…ë ¥ ë°©ì‹: ì²´í¬ë°•ìŠ¤ (ì…ì§€í˜•/ê³µê°„í˜• êµ¬ë¶„)
- ìš°ì„ ìˆœìœ„: ë‚®ìŒ (ì§ˆë¬¸ì—ì„œ ì¶”ì¶œ ê°€ëŠ¥)

**ë°©ì•ˆ 3: additionalNotesì—ì„œ ì¶”ì¶œ (ì œí•œì )**
- NLPë¡œ "ì£¼ë°© ì¢ìŒ", "ìˆ˜ë‚© ë¶€ì¡±" ë“± í‚¤ì›Œë“œ ì¶”ì¶œ
- ì •í™•ë„ ë‚®ìŒ

**ê¶Œì¥ì‚¬í•­:**
- âœ… **Phase 1: ì§ˆë¬¸ ë‹µë³€ì—ì„œ ì¶”ì¶œ** (ì¶”ì¶œ í•¨ìˆ˜ êµ¬í˜„)
- âš ï¸ **Phase 2: UI ì¶”ê°€ ê²€í† ** (í•„ìš”ì‹œ)

### 2.3 DecisionStyle (ê²°ì • ìŠ¤íƒ€ì¼)

**í˜„ì¬ ìƒíƒœ:**
- âŒ `decision_type` ì—†ìŒ (ë‹¨ë…/ê³µë™/ë¶„ì—…/í™•ì¥)
- âš ï¸ `budget_type` ë¶€ë¶„ì  ìˆìŒ (budget ì˜µì…˜ìœ¼ë¡œ ì¶”ë¡  ê°€ëŠ¥)
- âŒ `style_type` ì—†ìŒ (íŠ¸ë Œë“œ/í´ë˜ì‹/ë¯¸ì •)
- âš ï¸ `participation` ë¶€ë¶„ì  ìˆìŒ (judgment_choice_preference ì§ˆë¬¸ìœ¼ë¡œ ì¶”ë¡ )

**í™•ì¸ ì½”ë“œ:**
```typescript
// lib/data/budget-options.ts
export const BUDGET_OPTIONS: BudgetOption[] = [
  { id: 'under2000', recommendedGrade: 'basic' }, // â†’ budget_type: 'strict'
  { id: 'range2000_4000', recommendedGrade: 'standard' }, // â†’ budget_type: 'flexible'
  { id: 'unknown', recommendedGrade: 'all' } // â†’ budget_type: 'uncertain'
];

// lib/analysis/questions/judgment-axes.ts:59
{
  id: 'judgment_choice_preference',
  options: [
    { id: 'ai_recommend', text: 'ì¶”ì²œì•ˆ ê·¸ëŒ€ë¡œ' }, // â†’ participation: ['delegate']
    { id: 'compare_2_3', text: '2~3ê°œë§Œ ë¹„êµ' }, // â†’ participation: ['select_materials']
    { id: 'detail_select', text: 'ì„¸ë¶€ê¹Œì§€ ì§ì ‘ ì„ íƒ' } // â†’ participation: ['diy']
  ]
}
```

**ì…ë ¥ ë°©ì•ˆ:**

**ë°©ì•ˆ 1: ì§ˆë¬¸ ë‹µë³€ì—ì„œ ì¶”ë¡  (ê¶Œì¥)**
```typescript
function extractDecisionStyle(answers: Record<string, string>): DecisionStyle {
  // decision_type ì¶”ë¡ 
  let decision_type: 'solo' | 'joint' | 'split' | 'extended' = 'solo';
  // TODO: ê°€ì¡± êµ¬ì„± ì •ë³´ë¡œ ì¶”ë¡  (familySizeRange, ageRanges)
  
  // budget_type ì¶”ë¡ 
  const budget_type = mapBudgetToType(spaceInfo.budget);
  // 'under2000' â†’ 'strict', 'range2000_4000' â†’ 'flexible', 'unknown' â†’ 'uncertain'
  
  // style_type ì¶”ë¡ 
  let style_type: 'trendy' | 'timeless' | 'uncertain' = 'uncertain';
  // TODO: ì§ˆë¬¸ ë‹µë³€ì—ì„œ ìŠ¤íƒ€ì¼ ì„ í˜¸ë„ ì¶”ë¡ 
  
  // participation ì¶”ë¡ 
  const participation = extractParticipation(answers['judgment_choice_preference']);
  
  // age_group ì¶”ë¡ 
  const age_group = extractAgeGroup(spaceInfo.ageRanges);
  
  return { decision_type, budget_type, style_type, participation, age_group };
}
```

**ë°©ì•ˆ 2: UI ì¶”ê°€ (ì„ íƒì‚¬í•­)**
- ìœ„ì¹˜: personality í˜ì´ì§€ ë˜ëŠ” ë³„ë„ í™”ë©´
- ì…ë ¥ ë°©ì‹: ë¼ë””ì˜¤ ë²„íŠ¼
- ìš°ì„ ìˆœìœ„: ë‚®ìŒ (ì¶”ë¡  ê°€ëŠ¥)

**ê¶Œì¥ì‚¬í•­:**
- âœ… **Phase 1: ì§ˆë¬¸ ë‹µë³€ì—ì„œ ì¶”ë¡ ** (ì¶”ë¡  í•¨ìˆ˜ êµ¬í˜„)
- âš ï¸ **Phase 2: UI ì¶”ê°€ ê²€í† ** (ì •í™•ë„ í–¥ìƒ í•„ìš”ì‹œ)

### 2.4 ì¢…í•© ì •ë¦¬

| í•„ë“œ | í˜„ì¬ ìƒíƒœ | ì…ë ¥ ë°©ì•ˆ | ìš°ì„ ìˆœìœ„ |
|------|----------|----------|---------|
| `building_age` | âŒ ì—†ìŒ | UI ì¶”ê°€ (Phase 1) | ë†’ìŒ |
| `PainPoints` | âš ï¸ ì§ˆë¬¸ì—ì„œ ìˆ˜ì§‘ | ì¶”ì¶œ í•¨ìˆ˜ êµ¬í˜„ | ë†’ìŒ |
| `DecisionStyle` | âš ï¸ ë¶€ë¶„ì  ì¶”ë¡  ê°€ëŠ¥ | ì¶”ë¡  í•¨ìˆ˜ êµ¬í˜„ | ì¤‘ê°„ |

**ì¦‰ì‹œ êµ¬í˜„ í•„ìš”:**
1. `building_age` UI ì¶”ê°€ (space-info í˜ì´ì§€)
2. `extractPainPoints()` í•¨ìˆ˜ êµ¬í˜„
3. `extractDecisionStyle()` í•¨ìˆ˜ êµ¬í˜„

---

## 3. ì„ íƒ ì¥ì•  ëŒ€ì‘ ë¡œì§ ì¶”ê°€

### 3.1 ì„ íƒ ì¥ì•  íƒì§€ í•¨ìˆ˜

```typescript
// lib/analysis/classification/choice-paralysis-detector.ts

export interface ChoiceParalysis {
  hasStyleParalysis: boolean;
  hasColorParalysis: boolean;
  hasBudgetParalysis: boolean;
  severity: 'low' | 'medium' | 'high';
  strategies: string[];
}

export function detectChoiceParalysis(
  decision: DecisionStyle,
  answers: Record<string, string>
): ChoiceParalysis {
  const paralysis: ChoiceParalysis = {
    hasStyleParalysis: false,
    hasColorParalysis: false,
    hasBudgetParalysis: false,
    severity: 'low',
    strategies: []
  };
  
  // ìŠ¤íƒ€ì¼ ì„ íƒ ì¥ì• 
  if (decision.style_type === 'uncertain') {
    paralysis.hasStyleParalysis = true;
    paralysis.strategies.push('style_examples');
  }
  
  // ì˜ˆì‚° ì„ íƒ ì¥ì• 
  if (decision.budget_type === 'uncertain') {
    paralysis.hasBudgetParalysis = true;
    paralysis.strategies.push('budget_scenarios');
  }
  
  // ìƒ‰ìƒ ì„ íƒ ì¥ì• 
  const hasColorPreference = answers['color_preference'] && 
                             answers['color_preference'] !== 'uncertain';
  if (decision.participation.includes('select_materials') && !hasColorPreference) {
    paralysis.hasColorParalysis = true;
    paralysis.strategies.push('color_tone_range');
  }
  
  // ì‹¬ê°ë„ ê³„ì‚°
  const paralysisCount = [
    paralysis.hasStyleParalysis,
    paralysis.hasColorParalysis,
    paralysis.hasBudgetParalysis
  ].filter(Boolean).length;
  
  if (paralysisCount >= 2) {
    paralysis.severity = 'high';
  } else if (paralysisCount === 1) {
    paralysis.severity = 'medium';
  }
  
  return paralysis;
}
```

### 3.2 ëŒ€ì‘ ì „ëµ í•¨ìˆ˜

```typescript
// lib/analysis/classification/choice-paralysis-strategies.ts

export function generateParalysisStrategies(
  paralysis: ChoiceParalysis,
  context: AnalysisContext
): string[] {
  const strategies: string[] = [];
  
  if (paralysis.hasStyleParalysis) {
    strategies.push(
      'ìŠ¤íƒ€ì¼ ì„ íƒ ì¥ì•  ê°ì§€: 2-3ê°œ ì˜ˆì‹œ ì´ë¯¸ì§€ ì œì‹œ â†’ ì†Œê±°ë²•ìœ¼ë¡œ ì¢íˆê¸°',
      'ì§ˆë¬¸: "ì´ 3ê°€ì§€ ìŠ¤íƒ€ì¼ ì¤‘ ê°€ì¥ ë§ˆìŒì— ë“œëŠ” ìª½ì€ ì–´ëŠ ìª½ì¸ê°€ìš”?" (ëª¨ë˜/ë‚´ì¶”ëŸ´/ë¶ìœ ëŸ½)'
    );
  }
  
  if (paralysis.hasColorParalysis) {
    strategies.push(
      'ìƒ‰ìƒ ì„ íƒ ì¥ì•  ê°ì§€: í†¤ ë²”ìœ„ë§Œ ë¨¼ì € ê²°ì • (ë°ì€/ì¤‘ê°„/ì–´ë‘ìš´) â†’ êµ¬ì²´í™”',
      'ì§ˆë¬¸: "ì „ì²´ì ìœ¼ë¡œ ë°ì€ ëŠë‚Œì„ ì›í•˜ì‹œë‚˜ìš”, ì•„ë‹ˆë©´ ë”°ëœ»í•˜ê³  ì–´ë‘ìš´ ëŠë‚Œì„ ì›í•˜ì‹œë‚˜ìš”?"'
    );
  }
  
  if (paralysis.hasBudgetParalysis) {
    strategies.push(
      'ì˜ˆì‚° ì„ íƒ ì¥ì•  ê°ì§€: 3ë‹¨ê³„ ì‹œë‚˜ë¦¬ì˜¤ ì œì‹œ (ê¸°ë³¸/í‘œì¤€/í”„ë¦¬ë¯¸ì—„)',
      'ì§ˆë¬¸: "ì˜ˆì‚°ì€ ë‚˜ì¤‘ì— ì •í•˜ì‹œê³ , ë¨¼ì € 3ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë³´ì‹œê² ì–´ìš”?"'
    );
  }
  
  return strategies;
}
```

### 3.3 AI í”„ë¡¬í”„íŠ¸ì— ë°˜ì˜

```typescript
// app/api/analyze/complete/route.ts ìˆ˜ì •

function buildEnhancedAnalysisPrompt(
  data: CompleteAnalysisRequest,
  paralysis: ChoiceParalysis
): string {
  let prompt = buildAnalysisPrompt(data);
  
  // ì„ íƒ ì¥ì•  ëŒ€ì‘ ì¶”ê°€
  if (paralysis.severity !== 'low') {
    prompt += `\n\n## ğŸ¯ ì„ íƒ ì¥ì•  ëŒ€ì‘ ì „ëµ\n\n`;
    prompt += `ê³ ê°ì´ ì„ íƒ ì¥ì• ë¥¼ ê²ªê³  ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ì „ëµì„ ì‚¬ìš©í•˜ì„¸ìš”:\n\n`;
    
    paralysis.strategies.forEach((strategy, i) => {
      prompt += `${i + 1}. ${strategy}\n`;
    });
    
    prompt += `\nê·œì¹™:\n`;
    prompt += `- ì„ íƒì§€ë¥¼ 2-3ê°œë¡œ ì œí•œ\n`;
    prompt += `- "ì´ ì¤‘ì—ì„œ" í˜•íƒœë¡œ ì¢íˆê¸°\n`;
    prompt += `- ê°•ìš”í•˜ì§€ ì•Šê³  ìì—°ìŠ¤ëŸ½ê²Œ ìœ ë„\n`;
  }
  
  return prompt;
}
```

### 3.4 ì§ˆë¬¸ ìƒì„± ë°©í–¥ì— ë°˜ì˜

```typescript
// app/api/generate-questions/route.ts ìˆ˜ì •

function generateQuestionDirections(
  input: AllInputs,
  paralysis: ChoiceParalysis
): string[] {
  const directions: string[] = [];
  
  if (paralysis.hasStyleParalysis) {
    directions.push(
      'ìŠ¤íƒ€ì¼ ì„ íƒì¥ì• : "ëª‡ ê°€ì§€ ìŠ¤íƒ€ì¼ ì˜ˆì‹œë¥¼ ë³´ì—¬ë“œë¦´ê¹Œìš”? ë§ˆìŒì— ë“œëŠ” ìª½ìœ¼ë¡œ ì¢í˜€ê°€ìš”"'
    );
  }
  
  if (paralysis.hasColorParalysis) {
    directions.push(
      'ìƒ‰ìƒ ì„ íƒì¥ì• : "ì „ì²´ í†¤ë§Œ ë¨¼ì € ì •í•˜ì‹œê² ì–´ìš”? (ë°ì€/ì¤‘ê°„/ì–´ë‘ìš´)"'
    );
  }
  
  if (paralysis.hasBudgetParalysis) {
    directions.push(
      'ì˜ˆì‚° ì„ íƒì¥ì• : "3ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë¨¼ì € ë³´ì‹œê³  ê²°ì •í•˜ì‹œê² ì–´ìš”?"'
    );
  }
  
  return directions;
}
```

---

## 4. ì•„ë¥´ì   ì œì‘ í•­ëª© ì¶”ì²œ ë¡œì§

### 4.1 í˜„ì¬ ì•„ë¥´ì   ì œì‘ ë¡œì§ í™•ì¸

**í™•ì¸ëœ ì½”ë“œ:**
```typescript
// lib/data/pricing-v3/types.ts:66
export const ARGEN_MADE: ArgenConcept = {
  type: 'ARGEN_MADE',
  icon: 'ğŸ”§',
  label: 'ì•„ë¥´ì   ì œì‘',
  description: 'ì•„ë¥´ì   ìì²´ ë§ì¶¤ ì œì‘ (ë¸”ë£¸ í•˜ë“œì›¨ì–´)'
};

// lib/data/pricing-v3/types.ts:83
export const ARGEN_PROCESS_TYPE: Record<string, ArgenType> = {
  kitchen: 'ARGEN_MADE',           // ì‹±í¬ëŒ€
  closet: 'ARGEN_MADE',            // ë¶™ë°•ì´ì¥
  storage: 'ARGEN_MADE',           // ìˆ˜ë‚©ì¥
  shoeRack: 'ARGEN_MADE',          // ì‹ ë°œì¥
  pantry: 'ARGEN_MADE',            // íŒ¬íŠ¸ë¦¬
  bathroomCabinet: 'ARGEN_MADE',   // ìš•ì‹¤ì¥
  ...
};
```

### 4.2 personality_material_mappingì— argen_made í”Œë˜ê·¸ í™œìš©

**í…Œì´ë¸” í™•ì¥:**
```sql
-- personality_material_mapping í…Œì´ë¸”ì— argen_made í•„ë“œ ì¶”ê°€
ALTER TABLE personality_material_mapping 
ADD COLUMN IF NOT EXISTS argen_made BOOLEAN DEFAULT false;

-- ì•„ë¥´ì   ì œì‘ ìš°ì„  ì¶”ì²œ ì˜ˆì‹œ
INSERT INTO personality_material_mapping VALUES
('personality_clean', 'ìˆ˜ë‚©ì¥', NULL,
 ARRAY['ë¶™ë°•ì´ì¥', 'ì‹ ë°œì¥', 'ìˆ˜ë‚©ì¥'],
 1, 'ì•„ë¥´ì   ë§ì¶¤ ì œì‘ìœ¼ë¡œ ê³µê°„ í™œìš©ë„ ê·¹ëŒ€í™”',
 ARRAY[], NULL,
 true), -- argen_made = true
('budget_strict', 'ìˆ˜ë‚©ì¥', NULL,
 ARRAY['ì•„ë¥´ì   ì œì‘', 'ë§ì¶¤ ìˆ˜ë‚©'],
 1, 'ë¸Œëœë“œ ëŒ€ë¹„ 20% ì €ë ´',
 ARRAY[], NULL,
 true);
```

### 4.3 ì¶”ì²œ ë¡œì§ êµ¬í˜„

```typescript
// lib/analysis/classification/argen-recommender.ts

export interface ArgenRecommendation {
  item: string;
  reason: string;
  argenPrice?: number;
  brandPrice?: number;
  savings?: number;
  priority: 'high' | 'medium' | 'low';
}

export function recommendArgenItems(
  classifications: AllClassifications,
  dbData: AllDBData,
  spaceInfo: SpaceInfo
): ArgenRecommendation[] {
  const recommendations: ArgenRecommendation[] = [];
  
  // ì¡°ê±´ 1: ë¶™ë°•ì´ì¥, ì‹ ë°œì¥, ìˆ˜ë‚©ì¥ â†’ ì•„ë¥´ì   ì œì‘ ë¨¼ì € ì¶”ì²œ
  if (classifications.lifestyle.includes('lifestyle_remote') ||
      classifications.family.includes('family_child')) {
    recommendations.push({
      item: 'ë¶™ë°•ì´ì¥',
      reason: 'ì¬íƒê·¼ë¬´/ì–´ë¦°ì´ ê°€ì¡±ì€ ë§ì¶¤ ìˆ˜ë‚©ì´ í•„ìˆ˜ì…ë‹ˆë‹¤',
      priority: 'high'
    });
    
    recommendations.push({
      item: 'ì‹ ë°œì¥',
      reason: 'í˜„ê´€ ìˆ˜ë‚©ì„ ìµœì í™”í•˜ì—¬ ê³µê°„ í™œìš©ë„ í–¥ìƒ',
      priority: 'medium'
    });
  }
  
  // ì¡°ê±´ 2: íŠ¹ìˆ˜ ì‚¬ì´ì¦ˆ í•„ìš” â†’ ì•„ë¥´ì   ë§ì¶¤ ì¶”ì²œ
  if (spaceInfo.pyeong <= 24) {
    recommendations.push({
      item: 'ìˆ˜ë‚©ì¥',
      reason: 'ì‘ì€ í‰ìˆ˜ëŠ” ë§ì¶¤ ì œì‘ìœ¼ë¡œ ê³µê°„ í™œìš©ë„ ê·¹ëŒ€í™”',
      priority: 'high'
    });
  }
  
  // ì¡°ê±´ 3: ì˜ˆì‚° ì—¬ìœ  + í’ˆì§ˆ ì¤‘ì‹œ â†’ ì•„ë¥´ì   í”„ë¦¬ë¯¸ì—„ ì¶”ì²œ
  if (classifications.budget.type === 'budget_flexible' &&
      classifications.decision.type !== 'budget_strict') {
    recommendations.push({
      item: 'ë“œë ˆìŠ¤ë£¸',
      reason: 'ì•„ë¥´ì   í”„ë¦¬ë¯¸ì—„ ì œì‘ìœ¼ë¡œ í’ˆì§ˆê³¼ ë””ìì¸ ëª¨ë‘ í™•ë³´',
      priority: 'medium'
    });
  }
  
  // ì¡°ê±´ 4: ì˜ˆì‚° ì œí•œì  â†’ ë¸Œëœë“œ ê¸°ì„±í’ˆ ì¶”ì²œ
  if (classifications.budget.type === 'budget_strict') {
    // ì•„ë¥´ì   ì¶”ì²œ ì œì™¸, ë¸Œëœë“œ ì¶”ì²œ
  }
  
  // ì¡°ê±´ 5: ë¹ ë¥¸ ì‹œê³µ í•„ìš” â†’ ë¸Œëœë“œ ê¸°ì„±í’ˆ ì¶”ì²œ
  if (spaceInfo.livingPurpose === 'ë§¤ë„ì¤€ë¹„' && spaceInfo.livingYears && spaceInfo.livingYears < 2) {
    // ì•„ë¥´ì   ì¶”ì²œ ì œì™¸ (ì œì‘ ê¸°ê°„ ê³ ë ¤)
  }
  
  return recommendations;
}
```

### 4.4 AI í”„ë¡¬í”„íŠ¸ì— ë°˜ì˜

```typescript
function buildEnhancedAnalysisPrompt(
  data: CompleteAnalysisRequest,
  argenRecommendations: ArgenRecommendation[]
): string {
  let prompt = buildAnalysisPrompt(data);
  
  if (argenRecommendations.length > 0) {
    prompt += `\n\n## ğŸ”§ ì•„ë¥´ì   ì œì‘ ì¶”ì²œ\n\n`;
    prompt += `ì•„ë˜ í•­ëª©ì€ ì•„ë¥´ì   ë§ì¶¤ ì œì‘ì„ ì¶”ì²œí•©ë‹ˆë‹¤:\n\n`;
    
    argenRecommendations.forEach((rec, i) => {
      prompt += `${i + 1}. ${rec.item}: ${rec.reason}\n`;
      if (rec.savings) {
        prompt += `   (ë¸Œëœë“œ ëŒ€ë¹„ ${rec.savings}ë§Œì› ì ˆê°)\n`;
      }
    });
    
    prompt += `\nê·œì¹™:\n`;
    prompt += `- ìì—°ìŠ¤ëŸ½ê²Œ ì•„ë¥´ì   ì œì‘ ì˜µì…˜ ì–¸ê¸‰\n`;
    prompt += `- ê°•ìš”í•˜ì§€ ì•Šê³  ì¥ì ë§Œ ì„¤ëª…\n`;
    prompt += `- "ì•„ë¥´ì  ì—ì„œ ì§ì ‘ ì œì‘ ê°€ëŠ¥í•©ë‹ˆë‹¤" í˜•íƒœë¡œ ì œì•ˆ\n`;
  }
  
  return prompt;
}
```

---

## 5. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì²´í™”

### ì‹œë‚˜ë¦¬ì˜¤ 1: 32í‰/25ë…„ì°¨/40ëŒ€/ì–´ë¦°ì´

**ì…ë ¥:**
```json
{
  "basic": {
    "pyeong": 32,
    "building_age": 25,
    "budget_max": 5000,
    "family_count": 3
  },
  "lifestyle": {
    "family_child": true,
    "cook_often": true,
    "cook_frequency": "daily"
  },
  "pain": {
    "kitchen_small": true,
    "storage_lack": true
  },
  "decision": {
    "decision_type": "joint",
    "style_type": "timeless",
    "age_group": "40ëŒ€"
  }
}
```

**ì˜ˆìƒ ì¶œë ¥:**

**ë¶„ë¥˜ ê²°ê³¼:**
- ìƒí™œìœ í˜•: `['lifestyle_cook']`
- ê°€ì¡±ìœ í˜•: `['family_child']`
- ë¬¸ì œìœ í˜•: `{ location_score: 0, space_score: 1.0, recommendation: 'renovation' }`
- í›„íšŒìœ„í—˜: `{ risk_level: 'medium', triggered_risks: ['demolition_surprise', 'bathroom_leak'], buffer_percentage: 20 }`
- ê²°ì •êµ¬ì¡°: `{ type: 'decision_joint', ai_response_style: 'ìš”ì•½ ë¦¬í¬íŠ¸ ì œê³µ, ë¹„êµí‘œ í™œìš©' }`
- ì˜ˆì‚°ìœ ì—°ì„±: `{ type: 'budget_flexible', quote_strategy: 'ê¸°ë³¸ + ì¶”ì²œ ì—…ê·¸ë ˆì´ë“œ ì˜µì…˜' }`

**DB ì¿¼ë¦¬ ê²°ê³¼:**
```json
{
  "pyeong": {
    "pyeong_range": "32",
    "common_layout": "3ë² ì´/4ë² ì´, ë°©3+ìš•ì‹¤2 êµ­ë¯¼í‰í˜•",
    "pain_points": ["êµ­ë¯¼í‰í˜• ì¹˜ê³  ì£¼ë°©ì´ ì˜ì™¸ë¡œ ì¢ìŒ", "ì£¼ë°© ë™ì„  ì• ë§¤"],
    "reno_priorities": ["ì£¼ë°© í™•ì¥/ì¬êµ¬ì„±ìœ¼ë¡œ ë‹µë‹µí•¨ í•´ê²°"]
  },
  "ageRisks": [
    {
      "priority": 1,
      "risk_category": "êµ¬ì¡°/ì„¤ë¹„ ì•ˆì „",
      "risk_items": ["ìŠ¬ë˜ë¸Œ/ê¸°ë‘¥/ë³´ ê· ì—´", "ì „ê¸°ì„¤ë¹„ í”¼ë³µ ë…¸í›„"],
      "cost_impact": "+25~40%",
      "warning_text": "20ë…„ ì´ìƒì€ êµ¬ì¡° ì•ˆì „ ì ê²€ì´ í•„ìš”í•©ë‹ˆë‹¤"
    }
  ],
  "familyNeeds": [
    {
      "family_type": "ì–´ë¦°ì´(4-12ì„¸)",
      "danger_items": ["ê±°ì‹¤/ë³µë„ ì¶©ëŒ", "ê°€êµ¬ ë†€ì´í„°í™”"],
      "required_items": ["ë‚´ì¶©ê²© ë²½/ë°”ë‹¥", "ì¥ë‚œê° ìˆ˜ë‚©ì¡´"],
      "recommended_materials": ["ê°•ë§ˆë£¨", "í•©íŒë§ˆë£¨", "SPC"]
    }
  ],
  "warnings": [
    {
      "warning_type": "building_age_risk",
      "template_ko": "20ë…„ ì´ìƒ ì•„íŒŒíŠ¸ëŠ” ì² ê±° ì‹œ ìˆ¨ì€ í•˜ìê°€ ë‚˜ì˜¬ í™•ë¥ ì´ 45%ì…ë‹ˆë‹¤.",
      "suggestion_ko": "ì˜ˆë¹„ë¹„ 20~30%ë¥¼ ë³„ë„ë¡œ ì¤€ë¹„í•˜ì„¸ìš”."
    }
  ]
}
```

**ìƒì„±ë  AI í”„ë¡¬í”„íŠ¸ í•µì‹¬ ë‚´ìš©:**
```
ê³ ê° ë¶„ì„ ê²°ê³¼:
- 32í‰ êµ­ë¯¼í‰í˜•, 25ë…„ì°¨ ì•„íŒŒíŠ¸, 3ì¸ ê°€ì¡± (ì–´ë¦°ì´ í¬í•¨)
- ìƒí™œìœ í˜•: ìš”ë¦¬í˜• (ë§¤ì¼ ìš”ë¦¬)
- ê°€ì¡±ìœ í˜•: ì–´ë¦°ì´ê°€ì¡±
- ë¬¸ì œìœ í˜•: ê³µê°„í˜• 100% (ì£¼ë°© ì¢ìŒ, ìˆ˜ë‚© ë¶€ì¡±)
- í›„íšŒìœ„í—˜: ì¤‘ê°„ (ì² ê±° ì¶”ê°€ë¹„ìš©, ìš•ì‹¤ ëˆ„ìˆ˜)
- ê²°ì •êµ¬ì¡°: ê³µë™ ê²°ì • (ìš”ì•½ ë¦¬í¬íŠ¸, ë¹„êµí‘œ í™œìš©)

í‰í˜•ë³„ ì¸ì‚¬ì´íŠ¸:
- 32í‰ íŠ¹ì„±: ì£¼ë°©ì´ ì˜ì™¸ë¡œ ì¢ìŒ, ì£¼ë°© ë™ì„  ì• ë§¤
- ë¦¬ëª¨ë¸ë§ ìš°ì„ ìˆœìœ„: ì£¼ë°© í™•ì¥/ì¬êµ¬ì„±ìœ¼ë¡œ ë‹µë‹µí•¨ í•´ê²°

ì—°ì‹ë³„ ì¸ì‚¬ì´íŠ¸:
- 25ë…„ì°¨ ì£¼ì˜ì‚¬í•­: êµ¬ì¡°/ì„¤ë¹„ ì•ˆì „ ì ê²€ í•„ìš”, ì¶”ê°€ë¹„ìš© +25~40%

ê°€ì¡± ê³ ë ¤ì‚¬í•­:
- ì–´ë¦°ì´(4-12ì„¸): ë‚´ì¶©ê²© ë²½/ë°”ë‹¥, ì¥ë‚œê° ìˆ˜ë‚©ì¡´ í•„ìš”

ê²½ê³  ì‚¬í•­:
1. [warning] 20ë…„ ì´ìƒ ì•„íŒŒíŠ¸ëŠ” ì² ê±° ì‹œ ìˆ¨ì€ í•˜ìê°€ ë‚˜ì˜¬ í™•ë¥ ì´ 45%ì…ë‹ˆë‹¤.
   â†’ ì˜ˆë¹„ë¹„ 20~30%ë¥¼ ë³„ë„ë¡œ ì¤€ë¹„í•˜ì„¸ìš”.

ì§ˆë¬¸ ë°©í–¥:
1. ì¬íƒê·¼ë¬´ + ì–´ë¦°ì´: "ì•„ì´ ìˆì„ ë•Œ ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ í•„ìš”í•˜ì„¸ìš”?"
2. ìš”ë¦¬ + ì†ë‹˜: "ì†ë‹˜ ì˜¤ì…¨ì„ ë•Œ ìš”ë¦¬í•˜ë©´ì„œ ëŒ€í™”í•˜ì‹œëŠ” í¸ì´ì—ìš”? ì˜¤í”ˆí‚¤ì¹œ ì–´ë– ì„¸ìš”?"
3. ì£¼ë°© ë¶ˆí¸: "ì£¼ë°©ì—ì„œ ê°€ì¥ ë‹µë‹µí•œ ê²Œ ë™ì„ ì¸ê°€ìš”, ìˆ˜ë‚©ì¸ê°€ìš”, í™˜ê¸°ì¸ê°€ìš”?"
```

**ì˜ˆìƒ ì²« ì§ˆë¬¸:**
```
"32í‰ ì•„íŒŒíŠ¸ì—ì„œ 3ì¸ ê°€ì¡±ì´ ê±°ì£¼í•˜ì‹œëŠ”ë°, ì£¼ë°©ì´ ì¢ì•„ì„œ ë¶ˆí¸í•˜ì‹œë‹¤ê³  í•˜ì…¨ë„¤ìš”. 
ì£¼ë°©ì—ì„œ ê°€ì¥ ë‹µë‹µí•œ ê²Œ ë™ì„ ì¸ê°€ìš”, ìˆ˜ë‚©ì¸ê°€ìš”, ì•„ë‹ˆë©´ í™˜ê¸°ì¸ê°€ìš”?"
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: 24í‰/10ë…„ì°¨/20ëŒ€/íŠ¸ë Œë“œì„ í˜¸

**ì…ë ¥:**
```json
{
  "basic": {
    "pyeong": 24,
    "building_age": 10,
    "budget_max": 2000
  },
  "lifestyle": {
    "remote_work": true,
    "remote_work_days": 5
  },
  "pain": {
    "interior_old": true
  },
  "decision": {
    "decision_type": "solo",
    "style_type": "trendy",
    "budget_type": "strict",
    "age_group": "20ëŒ€"
  }
}
```

**ì˜ˆìƒ ì¶œë ¥:**

**ë¶„ë¥˜ ê²°ê³¼:**
- ìƒí™œìœ í˜•: `['lifestyle_remote', 'lifestyle_homebody']`
- ê°€ì¡±ìœ í˜•: `[]`
- ë¬¸ì œìœ í˜•: `{ location_score: 0, space_score: 1.0, recommendation: 'renovation' }`
- í›„íšŒìœ„í—˜: `{ risk_level: 'medium', triggered_risks: ['trend_overuse', 'budget_cheap'], buffer_percentage: 15 }`
- ê²°ì •êµ¬ì¡°: `{ type: 'decision_solo', ai_response_style: 'ë¹ ë¥¸ ì˜ì‚¬ê²°ì • íë¦„, ë‹¨ì¼ ì¶”ì²œ' }`
- ì˜ˆì‚°ìœ ì—°ì„±: `{ type: 'budget_strict', quote_strategy: 'ê¸°ë³¸ ê²¬ì ë§Œ ì œì‹œ, ì˜ˆë¹„ë¹„ 15% ë³„ë„ ì•ˆë‚´' }`

**DB ì¿¼ë¦¬ ê²°ê³¼:**
```json
{
  "pyeong": {
    "pyeong_range": "24",
    "common_layout": "3ë² ì´, ê±°ì‹¤-ì£¼ë°© ë¶„ë¦¬í˜• ë˜ëŠ” LDK",
    "pain_points": ["ì£¼ë°©ì´ ê¸¸ê³  ì¢ì•„ ë™ì„  ë‹µë‹µ", "ì‘ì€ë°© ë‘ ê°œê°€ ì§„ì§œ ì‘ìŒ"],
    "reno_priorities": ["ê±°ì‹¤-ì£¼ë°© LDKí™”ë¡œ ì²´ê° ë©´ì  í™•ëŒ€"]
  },
  "ageRisks": [
    {
      "priority": 1,
      "risk_category": "ë§ˆê°ì¬ ì—´í™”",
      "risk_items": ["ì‹¤ë¦¬ì½˜ ê· ì—´/ê³°íŒ¡ì´", "ìš•ì‹¤/ì£¼ë°© ì¤„ëˆˆ íŒŒì†"],
      "cost_impact": "+5~10%"
    }
  ],
  "agePrefs": {
    "age_group": "20ëŒ€",
    "style_keywords": ["ë¯¸ë‹ˆë©€", "ì¹´í˜í’", "ëª¨ë˜ í™”ì´íŠ¸/ê·¸ë ˆì´"],
    "priority_spaces": ["ì‘ì—…/ìŠ¤í„°ë”” ê³µê°„", "ê°ì„± ê±°ì‹¤/ì¹¨ì‹¤"],
    "avoid_items": ["ì›ëª©(ê°€ê²©/ê´€ë¦¬ ë¶€ë‹´)", "ê³¼í•œ ìˆ˜ë‚©ê°€êµ¬"]
  },
  "warnings": [
    {
      "warning_type": "trend_risk",
      "template_ko": "ì´ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•œ ê³ ê° ì¤‘ 42%ê°€ 2ë…„ í›„ 'ì§ˆë¦°ë‹¤'ê³  í–ˆìŠµë‹ˆë‹¤.",
      "suggestion_ko": "ë² ì´ìŠ¤ëŠ” í´ë˜ì‹í•˜ê²Œ, í¬ì¸íŠ¸ë§Œ íŠ¸ë Œë“œë¡œ ê°€ì‹œë©´ ì–´ë–¨ê¹Œìš”?"
    },
    {
      "warning_type": "budget_risk",
      "template_ko": "ì´ ì˜ˆì‚°ëŒ€ì—ì„œëŠ” ê³µì • ëˆ„ë½ì´ë‚˜ ì €ê°€ ìì¬ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.",
      "suggestion_ko": "ê²¬ì ì„œì—ì„œ ë°©ìˆ˜, ë°°ê´€, ì „ê¸° í•­ëª©ì„ ê¼­ í™•ì¸í•˜ì„¸ìš”."
    }
  ]
}
```

**ìƒì„±ë  AI í”„ë¡¬í”„íŠ¸ í•µì‹¬ ë‚´ìš©:**
```
ê³ ê° ë¶„ì„ ê²°ê³¼:
- 24í‰ ì•„íŒŒíŠ¸, 10ë…„ì°¨, 1ì¸ ê°€êµ¬ (ì¶”ì •)
- ìƒí™œìœ í˜•: ì¬íƒí˜•, ì€ë‘”í˜• (ì£¼ 5ì¼ ì¬íƒ)
- ë¬¸ì œìœ í˜•: ê³µê°„í˜• 100% (ì¸í…Œë¦¬ì–´ ë…¸í›„)
- í›„íšŒìœ„í—˜: ì¤‘ê°„ (íŠ¸ë Œë“œ ê³¼ë‹¤ + ì €ê°€ ìì¬)
- ê²°ì •êµ¬ì¡°: ë‹¨ë… ê²°ì • (ë¹ ë¥¸ ì˜ì‚¬ê²°ì •)
- ì˜ˆì‚°ìœ í˜•: ì˜ˆì‚°ì—„ìˆ˜í˜• (2000ë§Œì› ì´í•˜)

í‰í˜•ë³„ ì¸ì‚¬ì´íŠ¸:
- 24í‰ íŠ¹ì„±: ì£¼ë°©ì´ ê¸¸ê³  ì¢ì•„ ë™ì„  ë‹µë‹µ, ì‘ì€ë°© ë‘ ê°œê°€ ì§„ì§œ ì‘ìŒ
- ë¦¬ëª¨ë¸ë§ ìš°ì„ ìˆœìœ„: ê±°ì‹¤-ì£¼ë°© LDKí™”ë¡œ ì²´ê° ë©´ì  í™•ëŒ€

ì—°ë ¹ë³„ ì¸ì‚¬ì´íŠ¸:
- 20ëŒ€ ì„ í˜¸: ë¯¸ë‹ˆë©€, ì¹´í˜í’, ëª¨ë˜ í™”ì´íŠ¸/ê·¸ë ˆì´
- ìš°ì„  ê³µê°„: ì‘ì—…/ìŠ¤í„°ë”” ê³µê°„, ê°ì„± ê±°ì‹¤/ì¹¨ì‹¤
- íšŒí”¼ í•­ëª©: ì›ëª©(ê°€ê²©/ê´€ë¦¬ ë¶€ë‹´), ê³¼í•œ ìˆ˜ë‚©ê°€êµ¬

ê²½ê³  ì‚¬í•­:
1. [caution] ì´ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•œ ê³ ê° ì¤‘ 42%ê°€ 2ë…„ í›„ 'ì§ˆë¦°ë‹¤'ê³  í–ˆìŠµë‹ˆë‹¤.
   â†’ ë² ì´ìŠ¤ëŠ” í´ë˜ì‹í•˜ê²Œ, í¬ì¸íŠ¸ë§Œ íŠ¸ë Œë“œë¡œ ê°€ì‹œë©´ ì–´ë–¨ê¹Œìš”?
2. [warning] ì´ ì˜ˆì‚°ëŒ€ì—ì„œëŠ” ê³µì • ëˆ„ë½ì´ë‚˜ ì €ê°€ ìì¬ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.
   â†’ ê²¬ì ì„œì—ì„œ ë°©ìˆ˜, ë°°ê´€, ì „ê¸° í•­ëª©ì„ ê¼­ í™•ì¸í•˜ì„¸ìš”.

ì§ˆë¬¸ ë°©í–¥:
1. íŠ¸ë Œë“œ ê²½ê³ : "2ë…„ ë’¤ì—ë„ ì´ ìŠ¤íƒ€ì¼ ì¢‹ì•„í•˜ì‹¤ ê²ƒ ê°™ìœ¼ì„¸ìš”?"
2. ì¬íƒ + ì‘ì—…ê³µê°„: "ì¬íƒê·¼ë¬´í•˜ì‹œëŠ” ì‘ì—… ê³µê°„ì´ ë”°ë¡œ í•„ìš”í•˜ì„¸ìš”?"
```

**ì˜ˆìƒ ì²« ì§ˆë¬¸:**
```
"24í‰ ì•„íŒŒíŠ¸ì—ì„œ ì¬íƒê·¼ë¬´ë¥¼ ì£¼ 5ì¼ í•˜ì‹œëŠ” ìƒí™©ì´ì‹œë„¤ìš”. 
2ë…„ ë’¤ì—ë„ ì§€ê¸ˆ ì„ íƒí•˜ì‹œëŠ” íŠ¸ë Œë””í•œ ìŠ¤íƒ€ì¼ì„ ì¢‹ì•„í•˜ì‹¤ ê²ƒ ê°™ìœ¼ì„¸ìš”? 
ë² ì´ìŠ¤ëŠ” í´ë˜ì‹í•˜ê²Œ, í¬ì¸íŠ¸ë§Œ íŠ¸ë Œë“œë¡œ ê°€ì‹œë©´ ì–´ë–¨ê¹Œìš”?"
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: 49í‰/35ë…„ì°¨/60ëŒ€/ë…¸ì¸ë™ê±°

**ì…ë ¥:**
```json
{
  "basic": {
    "pyeong": 49,
    "building_age": 35,
    "budget_max": 8000
  },
  "lifestyle": {
    "family_elderly": true,
    "family_mobility": true
  },
  "pain": {
    "bathroom_old": true,
    "layout_bad": true
  },
  "decision": {
    "decision_type": "extended",
    "style_type": "timeless",
    "age_group": "60ëŒ€+"
  }
}
```

**ì˜ˆìƒ ì¶œë ¥:**

**ë¶„ë¥˜ ê²°ê³¼:**
- ìƒí™œìœ í˜•: `[]`
- ê°€ì¡±ìœ í˜•: `['family_elderly', 'family_mobility']`
- ë¬¸ì œìœ í˜•: `{ location_score: 0, space_score: 1.0, recommendation: 'renovation' }`
- í›„íšŒìœ„í—˜: `{ risk_level: 'critical', triggered_risks: ['demolition_surprise', 'bathroom_leak', 'energy_ignore'], buffer_percentage: 35 }`
- ê²°ì •êµ¬ì¡°: `{ type: 'decision_extended', ai_response_style: 'ë‹¤ì„¸ëŒ€ ë‹ˆì¦ˆ ì²´í¬, ì „í†µì  ì˜µì…˜ í¬í•¨' }`
- ì˜ˆì‚°ìœ ì—°ì„±: `{ type: 'budget_flexible', quote_strategy: 'ê¸°ë³¸ + ì¶”ì²œ ì—…ê·¸ë ˆì´ë“œ ì˜µì…˜, ì˜ˆë¹„ë¹„ í¬í•¨ ì´ì•¡ ì•ˆë‚´' }`

**DB ì¿¼ë¦¬ ê²°ê³¼:**
```json
{
  "pyeong": {
    "pyeong_range": "49",
    "common_layout": "ë°©4ê°œ ì´ìƒ, ìš•ì‹¤2-3ê°œ, ë“œë ˆìŠ¤ë£¸/ê°€ì¡±ì‹¤/ì•ŒíŒŒë£¸",
    "pain_points": ["ê´€ë¦¬/ì²­ì†Œ/ë‚œë°©ë¹„ ë¶€ë‹´ í¼", "ë™ì„  ê³„íš ë‚¡ìŒ"],
    "reno_priorities": ["ë™ì„  ì¬ì„¤ê³„", "ì‚¬ìš©ë¹ˆë„ ë‚®ì€ ë°©ì„ ìˆ˜ë‚©/ì‘ì—…ì‹¤ë¡œ í†µí•©"]
  },
  "ageRisks": [
    {
      "priority": 1,
      "risk_category": "êµ¬ì¡°ì  ì•ˆì „",
      "risk_items": ["ìŠ¬ë˜ë¸Œ í”¼ë¡œ ê· ì—´", "ì² ê·¼ ë¶€ì‹/ë…¸ì¶œ", "ì™¸ë²½ ë°•ë½ ìœ„í—˜"],
      "cost_impact": "+40~60%",
      "warning_text": "30ë…„ ì´ìƒì€ ì¬ê±´ì¶•/ë¦¬ëª¨ë¸ë§ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤",
      "must_check": true
    }
  ],
  "familyNeeds": [
    {
      "family_type": "ë…¸ì¸",
      "danger_items": ["ë¯¸ë„ëŸ¬ì§/ë‚™ìƒ", "ìš•ì‹¤/ê³„ë‹¨/í˜„ê´€ í„±", "ì–´ë‘ìš´ ì¡°ë„"],
      "required_items": ["ë¯¸ë„ëŸ¼ ë°©ì§€ ë°”ë‹¥", "ìš•ì‹¤/ë³µë„/ì£¼ë°© ì†ì¡ì´", "í„± ì œê±°"],
      "recommended_materials": ["ë…¼ìŠ¬ë¦½ íƒ€ì¼", "ì¶©ê²© ì™„í™” ë°”ë‹¥ì¬", "ì†ì¡ì´ ì¼ì²´í˜• ìš•ì‹¤"]
    }
  ],
  "agePrefs": {
    "age_group": "60ëŒ€+",
    "style_keywords": ["ì•ˆì •ê° ìˆëŠ” í†¤", "ì§‘ë‹¤ìš´ ì§‘", "ìµìˆ™í•œ ë°°ì¹˜ ìœ ì§€"],
    "priority_spaces": ["ì•ˆì „í•œ ìš•ì‹¤/ì£¼ë°©", "ë™ì„  ì§§ì€ êµ¬ì¡°", "ì‰¬ê³  TVë³´ëŠ” ê±°ì‹¤"],
    "avoid_items": ["ê³¼ë„í•œ ë¯¸ë‹ˆë©€", "ë³µì¡í•œ ìŠ¤ë§ˆíŠ¸ê¸°ê¸°"]
  },
  "warnings": [
    {
      "warning_type": "building_age_risk",
      "severity": "critical",
      "template_ko": "30ë…„ ì´ìƒì€ ì¬ê±´ì¶•/ë¦¬ëª¨ë¸ë§ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤",
      "suggestion_ko": "ë°˜ ë¦¬ëª¨ë¸ë§ ìˆ˜ì¤€ ê³µì‚¬ ê°ì˜¤"
    },
    {
      "warning_type": "bathroom_risk",
      "severity": "warning",
      "template_ko": "15ë…„ ì´ìƒ ì•„íŒŒíŠ¸ ìš•ì‹¤ì€ ë°°ê´€/ë°©ìˆ˜ ë¬¸ì œê°€ 40~70% í™•ë¥ ë¡œ ë°œê²¬ë©ë‹ˆë‹¤.",
      "suggestion_ko": "ìš•ì‹¤ ì² ê±° ì „ ì˜ˆë¹„ë¹„ë¥¼ ì¶©ë¶„íˆ ì¡ìœ¼ì„¸ìš”."
    }
  ]
}
```

**ìƒì„±ë  AI í”„ë¡¬í”„íŠ¸ í•µì‹¬ ë‚´ìš©:**
```
ê³ ê° ë¶„ì„ ê²°ê³¼:
- 49í‰ ëŒ€í˜• ì•„íŒŒíŠ¸, 35ë…„ì°¨, ë…¸ì¸ ë™ê±°
- ê°€ì¡±ìœ í˜•: ë…¸ì¸, ì´ë™ë¶ˆí¸
- ë¬¸ì œìœ í˜•: ê³µê°„í˜• 100% (ìš•ì‹¤ ë…¸í›„, ë™ì„  ë¶ˆí¸)
- í›„íšŒìœ„í—˜: ë§¤ìš°ë†’ìŒ (êµ¬ì¡° ì•ˆì „, ë°°ê´€ êµì²´, ì—ë„ˆì§€)
- ê²°ì •êµ¬ì¡°: í™•ì¥ ê²°ì • (ë¶€ëª¨ë‹˜ ì˜ê²¬ ì¤‘ìš”)
- ì˜ˆì‚°ìœ í˜•: ì˜ˆì‚°ìœ ì—°í˜• (8000ë§Œì›)

í‰í˜•ë³„ ì¸ì‚¬ì´íŠ¸:
- 49í‰ íŠ¹ì„±: ê´€ë¦¬/ì²­ì†Œ/ë‚œë°©ë¹„ ë¶€ë‹´ í¼, ë™ì„  ê³„íš ë‚¡ìŒ
- ë¦¬ëª¨ë¸ë§ ìš°ì„ ìˆœìœ„: ë™ì„  ì¬ì„¤ê³„, ì‚¬ìš©ë¹ˆë„ ë‚®ì€ ë°© í†µí•©

ì—°ì‹ë³„ ì¸ì‚¬ì´íŠ¸:
- 35ë…„ì°¨ ì£¼ì˜ì‚¬í•­: êµ¬ì¡°ì  ì•ˆì „ ì ê²€ í•„ìˆ˜, ì¶”ê°€ë¹„ìš© +40~60%
- ê²½ê³ : 30ë…„ ì´ìƒì€ ì¬ê±´ì¶•/ë¦¬ëª¨ë¸ë§ ê²€í†  í•„ìš”

ê°€ì¡± ê³ ë ¤ì‚¬í•­:
- ë…¸ì¸: ë¯¸ë„ëŸ¼ ë°©ì§€ ë°”ë‹¥, ì•ˆì „ì†ì¡ì´, í„± ì œê±° í•„ìˆ˜
- ì¶”ì²œ ìì¬: ë…¼ìŠ¬ë¦½ íƒ€ì¼, ì¶©ê²© ì™„í™” ë°”ë‹¥ì¬

ì—°ë ¹ë³„ ì¸ì‚¬ì´íŠ¸:
- 60ëŒ€+ ì„ í˜¸: ì•ˆì •ê° ìˆëŠ” í†¤, ì§‘ë‹¤ìš´ ì§‘, ìµìˆ™í•œ ë°°ì¹˜
- ìš°ì„  ê³µê°„: ì•ˆì „í•œ ìš•ì‹¤/ì£¼ë°©, ë™ì„  ì§§ì€ êµ¬ì¡°
- íšŒí”¼ í•­ëª©: ê³¼ë„í•œ ë¯¸ë‹ˆë©€, ë³µì¡í•œ ìŠ¤ë§ˆíŠ¸ê¸°ê¸°

ê²½ê³  ì‚¬í•­:
1. [critical] 30ë…„ ì´ìƒì€ ì¬ê±´ì¶•/ë¦¬ëª¨ë¸ë§ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.
   â†’ ë°˜ ë¦¬ëª¨ë¸ë§ ìˆ˜ì¤€ ê³µì‚¬ ê°ì˜¤
2. [warning] 15ë…„ ì´ìƒ ì•„íŒŒíŠ¸ ìš•ì‹¤ì€ ë°°ê´€/ë°©ìˆ˜ ë¬¸ì œê°€ 40~70% í™•ë¥ ë¡œ ë°œê²¬ë©ë‹ˆë‹¤.
   â†’ ìš•ì‹¤ ì² ê±° ì „ ì˜ˆë¹„ë¹„ë¥¼ ì¶©ë¶„íˆ ì¡ìœ¼ì„¸ìš”.

ì§ˆë¬¸ ë°©í–¥:
1. ë°°ë¦¬ì–´í”„ë¦¬: "ë¬¸í„± ì œê±°, ì•ˆì „ì†ì¡ì´ë„ ê³ ë ¤í•´ë³¼ê¹Œìš”?"
2. í™•ì¥ ê²°ì •: "ë¶€ëª¨ë‹˜ê»˜ë„ ê³µìœ í•  ìˆ˜ ìˆê²Œ ìš”ì•½ ì •ë¦¬í•´ë“œë¦´ê¹Œìš”?"
```

**ì˜ˆìƒ ì²« ì§ˆë¬¸:**
```
"49í‰ ì•„íŒŒíŠ¸ì—ì„œ ë…¸ì¸ë¶„ì´ ë™ê±°í•˜ì‹œëŠ” ìƒí™©ì´ì‹œë„¤ìš”. 
ì•ˆì „ì´ ìµœìš°ì„ ì´ë‹ˆ, ìš•ì‹¤ê³¼ ì£¼ë°©ì— ë¯¸ë„ëŸ¼ ë°©ì§€ ë°”ë‹¥ê³¼ ì•ˆì „ì†ì¡ì´ë¥¼ í•„ìˆ˜ë¡œ ë„£ì–´ì•¼ í•©ë‹ˆë‹¤. 
ë¬¸í„± ì œê±°ë„ ê³ ë ¤í•˜ì‹œê² ì–´ìš”?"
```

---

## 6. ì¼ì • ì¬ì¡°ì •

### 6.1 ì¡°ì •ëœ ì¼ì •

| Phase | ê¸°ì¡´ | ì¡°ì • | ìƒì„¸ ì‘ì—… | ì´ìœ  |
|-------|------|------|----------|------|
| **1 (DB)** | 1ì£¼ | 1ì£¼ | í…Œì´ë¸” ìƒì„±, ì´ˆê¸° ë°ì´í„°, ì¿¼ë¦¬ í•¨ìˆ˜ | ìœ ì§€ |
| **2 (ë¶„ë¥˜ì—”ì§„)** | 1ì£¼ | **2ì£¼** | 6ê°œ ë¶„ë¥˜ í•¨ìˆ˜ + ì…ë ¥ ë³€í™˜ + í†µí•© + í…ŒìŠ¤íŠ¸ | ë³µì¡ë„ ë†’ìŒ |
| **3 (í”„ë¡¬í”„íŠ¸)** | 1ì£¼ | 1ì£¼ | ë§¥ë½ ìƒì„±, í”„ë¡¬í”„íŠ¸ í™•ì¥, ê²½ê³  ì—°ë™ | ìœ ì§€ |
| **4 (ìµœì í™”)** | 1ì£¼ | 1ì£¼ | ìºì‹±, ë¦¬íŒ©í† ë§, ë¬¸ì„œí™” | ìœ ì§€ |
| **ì´** | **4ì£¼** | **5ì£¼** | | |

### 6.2 Phaseë³„ ìƒì„¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### Phase 1: DB ë° ì¿¼ë¦¬ í•¨ìˆ˜ (1ì£¼)

**Day 1-2: í…Œì´ë¸” ìƒì„±**
- [ ] `pyeong_characteristics` í…Œì´ë¸” ìƒì„±
- [ ] `building_age_risks` í…Œì´ë¸” ìƒì„±
- [ ] `family_needs` í…Œì´ë¸” ìƒì„±
- [ ] `age_preferences` í…Œì´ë¸” ìƒì„±
- [ ] `budget_benchmarks` í…Œì´ë¸” ìƒì„±
- [ ] `warning_templates` í…Œì´ë¸” ìƒì„±
- [ ] `risk_factors` í…Œì´ë¸” ìƒì„±
- [ ] `personality_types` í…Œì´ë¸” ìƒì„± (ì„ íƒì‚¬í•­)

**Day 3-4: ì´ˆê¸° ë°ì´í„° ì…ë ¥**
- [ ] í‰í˜•ë³„ íŠ¹ì„± ë°ì´í„° INSERT (24, 32, 43, 49í‰)
- [ ] ì—°ì‹ë³„ ìœ„í—˜ ë°ì´í„° INSERT (0-10, 10-20, 20-30, 30+ë…„)
- [ ] ê°€ì¡± êµ¬ì„±ë³„ ë‹ˆì¦ˆ ë°ì´í„° INSERT
- [ ] ì—°ë ¹ë³„ ì„ í˜¸ ë°ì´í„° INSERT
- [ ] ì˜ˆì‚° ê¸°ì¤€ì  ë°ì´í„° INSERT
- [ ] ê²½ê³  í…œí”Œë¦¿ ë°ì´í„° INSERT
- [ ] ìœ„í—˜ ìš”ì†Œ ë°ì´í„° INSERT

**Day 5: ì¿¼ë¦¬ í•¨ìˆ˜ êµ¬í˜„**
- [ ] `lib/db/adapters/pyeong-adapter.ts` êµ¬í˜„
- [ ] `lib/db/adapters/building-adapter.ts` êµ¬í˜„
- [ ] `lib/db/adapters/family-adapter.ts` êµ¬í˜„
- [ ] `lib/db/adapters/age-adapter.ts` êµ¬í˜„
- [ ] `lib/db/adapters/budget-adapter.ts` êµ¬í˜„
- [ ] `lib/db/adapters/warning-adapter.ts` êµ¬í˜„
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

#### Phase 2: ë¶„ë¥˜ ì—”ì§„ êµ¬í˜„ (2ì£¼)

**Week 1: ë¶„ë¥˜ í•¨ìˆ˜ êµ¬í˜„**

**Day 1-2: ê¸°ë³¸ ë¶„ë¥˜ í•¨ìˆ˜**
- [ ] `lib/analysis/classification/lifestyle-classifier.ts` êµ¬í˜„
- [ ] `lib/analysis/classification/family-classifier.ts` êµ¬í˜„
- [ ] `lib/analysis/classification/problem-classifier.ts` êµ¬í˜„
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**Day 3-4: ìœ„í—˜ ë° ê²°ì • ë¶„ë¥˜**
- [ ] `lib/analysis/classification/risk-assessor.ts` êµ¬í˜„
- [ ] `lib/analysis/classification/decision-classifier.ts` êµ¬í˜„
- [ ] `lib/analysis/classification/budget-classifier.ts` êµ¬í˜„
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**Day 5: ì…ë ¥ ë³€í™˜ ë° ì„ íƒ ì¥ì• **
- [ ] `lib/analysis/classification/input-converter.ts` êµ¬í˜„
- [ ] `lib/analysis/classification/choice-paralysis-detector.ts` êµ¬í˜„
- [ ] `lib/analysis/classification/choice-paralysis-strategies.ts` êµ¬í˜„
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**Week 2: í†µí•© ë° í…ŒìŠ¤íŠ¸**

**Day 1-2: V3Engine í†µí•©**
- [ ] V3Engineì— ë¶„ë¥˜ ì—”ì§„ í†µí•©
- [ ] ì ìˆ˜ + íƒ€ì… í•˜ì´ë¸Œë¦¬ë“œ ê²°ê³¼ ìƒì„±
- [ ] í†µí•© í…ŒìŠ¤íŠ¸

**Day 3-4: ì•„ë¥´ì   ì¶”ì²œ ë¡œì§**
- [ ] `lib/analysis/classification/argen-recommender.ts` êµ¬í˜„
- [ ] `personality_material_mapping`ì— `argen_made` í•„ë“œ ì¶”ê°€
- [ ] ì•„ë¥´ì   ì¶”ì²œ ë¡œì§ í†µí•©
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**Day 5: E2E í…ŒìŠ¤íŠ¸**
- [ ] ì‹œë‚˜ë¦¬ì˜¤ 1 í…ŒìŠ¤íŠ¸
- [ ] ì‹œë‚˜ë¦¬ì˜¤ 2 í…ŒìŠ¤íŠ¸
- [ ] ì‹œë‚˜ë¦¬ì˜¤ 3 í…ŒìŠ¤íŠ¸
- [ ] ë²„ê·¸ ìˆ˜ì •

#### Phase 3: ë§¥ë½ ë³€í™˜ ë° í”„ë¡¬í”„íŠ¸ í™•ì¥ (1ì£¼)

**Day 1-2: ë§¥ë½ ìƒì„± í•¨ìˆ˜**
- [ ] `lib/analysis/context/context-generator.ts` êµ¬í˜„
- [ ] DB ì •ë³´ ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ìƒì„±
- [ ] ê²½ê³  ì‚¬í•­ í†µí•©
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**Day 3-4: í”„ë¡¬í”„íŠ¸ í™•ì¥**
- [ ] `app/api/analyze/complete/route.ts` ìˆ˜ì •
- [ ] ì„ íƒ ì¥ì•  ëŒ€ì‘ ì „ëµ ì¶”ê°€
- [ ] ì•„ë¥´ì   ì¶”ì²œ ë°˜ì˜
- [ ] ì§ˆë¬¸ ìƒì„± ë°©í–¥ ë°˜ì˜

**Day 5: E2E í…ŒìŠ¤íŠ¸**
- [ ] ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] AI ì‘ë‹µ í’ˆì§ˆ ê²€ì¦
- [ ] ë²„ê·¸ ìˆ˜ì •

#### Phase 4: ìµœì í™” ë° ë¬¸ì„œí™” (1ì£¼)

**Day 1-2: ìºì‹± êµ¬í˜„**
- [ ] ìºì‹± ì „ëµ ê²°ì • (Vercel Edge Config ë˜ëŠ” ë©”ëª¨ë¦¬)
- [ ] ì •ì  ë°ì´í„° ìºì‹± êµ¬í˜„
- [ ] TTL ì„¤ì •
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

**Day 3-4: ì½”ë“œ ë¦¬íŒ©í† ë§**
- [ ] ì½”ë“œ ì •ë¦¬
- [ ] íƒ€ì… ì •ì˜ ì •ë¦¬
- [ ] ì£¼ì„ ì¶”ê°€

**Day 5: ë¬¸ì„œí™”**
- [ ] API ë¬¸ì„œ ì‘ì„±
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ ì‘ì„±
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ì‘ì„±

---

## 7. ìºì‹± ì „ëµ êµ¬ì²´í™”

### 7.1 ìºì‹± ìœ„ì¹˜ ê²°ì •

**ê¶Œì¥: Vercel Edge Config ë˜ëŠ” ë©”ëª¨ë¦¬ ìºì‹±**

**ì´ìœ :**
- Vercel ë°°í¬ í™˜ê²½
- Edge Config: ê¸€ë¡œë²Œ ë¶„ì‚°, ë¹ ë¥¸ ì ‘ê·¼
- ë©”ëª¨ë¦¬ ìºì‹±: ê°„ë‹¨, ì¶”ê°€ ì¸í”„ë¼ ë¶ˆí•„ìš”

**ë¹„êµ:**

| ë°©ì‹ | ì¥ì  | ë‹¨ì  | ê¶Œì¥ë„ |
|------|------|------|--------|
| **Vercel Edge Config** | ê¸€ë¡œë²Œ ë¶„ì‚°, ë¹ ë¦„ | ì„¤ì • í•„ìš”, ë¹„ìš© | âš ï¸ ì¤‘ê°„ |
| **Redis (Upstash)** | ì˜êµ¬ ì €ì¥, í™•ì¥ì„± | ì¶”ê°€ ì¸í”„ë¼, ë¹„ìš© | âš ï¸ ë‚®ìŒ |
| **ë©”ëª¨ë¦¬ (Map)** | ê°„ë‹¨, ë¬´ë£Œ | ì„œë²„ ì¬ì‹œì‘ ì‹œ ì´ˆê¸°í™” | âœ… ë†’ìŒ |

**ìµœì¢… ê¶Œì¥: ë©”ëª¨ë¦¬ ìºì‹± (Map)**
- MVP ë‹¨ê³„ì—ì„œëŠ” ë©”ëª¨ë¦¬ ìºì‹±ìœ¼ë¡œ ì¶©ë¶„
- ë‚˜ì¤‘ì— í•„ìš”í•˜ë©´ Edge Configë¡œ ì „í™˜

### 7.2 ìºì‹± ëŒ€ìƒ ë° TTL

**ìºì‹± ëŒ€ìƒ:**

| ë°ì´í„° | ë³€ê²½ ë¹ˆë„ | TTL | ìºì‹± ë°©ì‹ |
|--------|----------|-----|----------|
| **í‰í˜• íŠ¹ì„±** | ê±°ì˜ ì•ˆ ë°”ë€œ | 24ì‹œê°„ | ë©”ëª¨ë¦¬ |
| **ì—°ì‹ë³„ ìœ„í—˜** | ê±°ì˜ ì•ˆ ë°”ë€œ | 24ì‹œê°„ | ë©”ëª¨ë¦¬ |
| **ê°€ì¡± ë‹ˆì¦ˆ** | ê±°ì˜ ì•ˆ ë°”ë€œ | 24ì‹œê°„ | ë©”ëª¨ë¦¬ |
| **ì—°ë ¹ë³„ ì„ í˜¸** | ê±°ì˜ ì•ˆ ë°”ë€œ | 24ì‹œê°„ | ë©”ëª¨ë¦¬ |
| **ê²½ê³  í…œí”Œë¦¿** | ê°€ë” ë°”ë€œ | 6ì‹œê°„ | ë©”ëª¨ë¦¬ |
| **ì˜ˆì‚° ê¸°ì¤€ì ** | ê°€ë” ë°”ë€œ | 6ì‹œê°„ | ë©”ëª¨ë¦¬ |
| **ìì¬ ê°€ê²©** | ìì£¼ ë°”ë€œ | 1ì‹œê°„ | ë©”ëª¨ë¦¬ (ì„ íƒì‚¬í•­) |

### 7.3 êµ¬í˜„ ë°©ë²•

```typescript
// lib/db/cache.ts

interface CacheEntry<T> {
  data: T;
  expiresAt: number;
}

class SimpleCache {
  private cache = new Map<string, CacheEntry<any>>();
  
  set<T>(key: string, data: T, ttlSeconds: number): void {
    this.cache.set(key, {
      data,
      expiresAt: Date.now() + ttlSeconds * 1000
    });
  }
  
  get<T>(key: string): T | null {
    const entry = this.cache.get(key);
    if (!entry) return null;
    
    if (Date.now() > entry.expiresAt) {
      this.cache.delete(key);
      return null;
    }
    
    return entry.data as T;
  }
  
  clear(): void {
    this.cache.clear();
  }
}

export const cache = new SimpleCache();

// ì‚¬ìš© ì˜ˆì‹œ
export async function getPyeongCharacteristicsCached(pyeong: number) {
  const cacheKey = `pyeong_${pyeong}`;
  const cached = cache.get(cacheKey);
  if (cached) return cached;
  
  const data = await getPyeongCharacteristics(pyeong);
  cache.set(cacheKey, data, 24 * 60 * 60); // 24ì‹œê°„
  return data;
}
```

---

## 8. ì´ì‚¬ vs ë¦¬ëª¨ë¸ë§ ë¹„ìš© ë¹„êµ ê¸°ëŠ¥

### 8.1 í•„ìš”ì„± ê²€í† 

**í˜„ì¬ ìƒí™©:**
- `classifyProblem()`ì—ì„œ "ì´ì‚¬ ê²€í† " ì•ˆë‚´ë§Œ í•¨
- ì‹¤ì œ ë¹„ìš© ë¹„êµ ì—†ìŒ

**í•„ìš” ë°ì´í„°:**
1. ì´ì‚¬ ë¹„ìš©: ì´ì‚¬ ì—…ì²´ ê²¬ì  í•„ìš” (ì§€ì—­, í‰ìˆ˜, ê±°ë¦¬)
2. ë¦¬ëª¨ë¸ë§ ë¹„ìš©: ì´ë¯¸ ìˆìŒ (ê²¬ì  ì‹œìŠ¤í…œ)
3. ë¹„êµ ë¡œì§: ì´ì‚¬ ë¹„ìš© vs ë¦¬ëª¨ë¸ë§ ë¹„ìš©

**ë³µì¡ë„:**
- ì´ì‚¬ ë¹„ìš©ì€ ì§€ì—­, ê±°ë¦¬, ì‹œê¸° ë“± ë³€ìˆ˜ ë§ìŒ
- ì‹¤ì‹œê°„ ê²¬ì  API í•„ìš” (ì¶”ê°€ ë¹„ìš©)
- ì •í™•ë„ ë‚®ì„ ìˆ˜ ìˆìŒ

### 8.2 ê¶Œì¥ì‚¬í•­

**MVPì—ì„œ ì œì™¸ (ë‚˜ì¤‘ì— ì¶”ê°€)**

**ì´ìœ :**
1. ë³µì¡ë„ ë†’ìŒ (ì´ì‚¬ ë¹„ìš© API í•„ìš”)
2. ì •í™•ë„ ë‚®ì„ ìˆ˜ ìˆìŒ
3. í•µì‹¬ ê¸°ëŠ¥ ì•„ë‹˜

**ëŒ€ì•ˆ:**
- í˜„ì¬ì²˜ëŸ¼ "ì´ì‚¬ ê²€í† " ì•ˆë‚´ë§Œ ì œê³µ
- ë‚˜ì¤‘ì— í•„ìš”í•˜ë©´ ë³„ë„ ê¸°ëŠ¥ìœ¼ë¡œ ì¶”ê°€

**êµ¬í˜„ ì‹œ ê³ ë ¤ì‚¬í•­:**
- ì´ì‚¬ ë¹„ìš© ì¶”ì • API ì—°ë™ (ì˜ˆ: ë¶€ë™ì‚° API)
- ì§€ì—­ë³„ í‰ê·  ì´ì‚¬ ë¹„ìš© DB
- ë¹„êµ ë¦¬í¬íŠ¸ ìƒì„±

---

## 9. ìµœì¢… ìš”ì•½

### 9.1 ì¦‰ì‹œ êµ¬í˜„ í•„ìš” (Phase 1 ì „)

1. âœ… **building_age UI ì¶”ê°€** (space-info í˜ì´ì§€)
2. âœ… **extractPainPoints() í•¨ìˆ˜** êµ¬í˜„
3. âœ… **extractDecisionStyle() í•¨ìˆ˜** êµ¬í˜„

### 9.2 Phaseë³„ ìš°ì„ ìˆœìœ„

**Phase 1 (1ì£¼):**
- DB í…Œì´ë¸” ìƒì„± ë° ì¿¼ë¦¬ í•¨ìˆ˜

**Phase 2 (2ì£¼):**
- ë¶„ë¥˜ ì—”ì§„ êµ¬í˜„
- ì„ íƒ ì¥ì•  ëŒ€ì‘ ë¡œì§
- ì•„ë¥´ì   ì¶”ì²œ ë¡œì§

**Phase 3 (1ì£¼):**
- ë§¥ë½ ë³€í™˜ ë° í”„ë¡¬í”„íŠ¸ í™•ì¥

**Phase 4 (1ì£¼):**
- ìºì‹± êµ¬í˜„
- ìµœì í™” ë° ë¬¸ì„œí™”

### 9.3 ì œì™¸ ì‚¬í•­

- ì´ì‚¬ ë¹„ìš© ë¹„êµ ê¸°ëŠ¥ (ë‚˜ì¤‘ì— ì¶”ê°€)
- ë§¤í•‘ í…Œì´ë¸” (ì„ íƒì‚¬í•­, ë‚˜ì¤‘ì— ì¶”ê°€)

---

**ì‘ì„± ì™„ë£Œì¼**: 2025ë…„ 12ì›” 16ì¼  
**ë‹¤ìŒ ë‹¨ê³„**: Phase 1 DB í…Œì´ë¸” ìƒì„± ì‹œì‘




