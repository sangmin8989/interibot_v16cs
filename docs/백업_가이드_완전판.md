# 💾 인테리봇 백업 완전 가이드

> **작성일**: 2025-12-31  
> **목적**: 노트북 고장 시에도 다른 컴퓨터에서 작업 가능하도록 백업 설정  
> **대상**: 비개발자, 초보자용

---

## 🎯 백업 전략 (3중 안전장치)

```
┌─────────────────────────────────────────┐
│  1. Git + GitHub (코드 버전 관리)         │
│     → 모든 코드 자동 백업                │
│                                          │
│  2. 원드라이브 (중요 파일 백업)            │
│     → .env 파일, 설정 파일                │
│                                          │
│  3. 수동 백업 (주 1회)                    │
│     → 전체 프로젝트 폴더 복사             │
└─────────────────────────────────────────┘
```

---

## 📋 Part 1: Git + GitHub 설정 (가장 중요!)

### 왜 Git + GitHub인가?

✅ **무료** (개인 프로젝트)  
✅ **자동 백업** (커밋할 때마다)  
✅ **버전 관리** (과거 코드 복구 가능)  
✅ **다른 PC에서 바로 작업 가능**  
✅ **코드 변경 이력 추적**

---

### 1단계: GitHub 계정 만들기

1. **https://github.com** 접속
2. **Sign up** 클릭
3. **이메일, 비밀번호 입력**
4. **이메일 인증 완료**

---

### 2단계: GitHub에 새 저장소 만들기

1. GitHub 로그인 후
2. 오른쪽 위 **+** 버튼 클릭
3. **New repository** 선택
4. 저장소 이름: `interibot` (또는 원하는 이름)
5. **Private** 선택 (비공개)
6. **Create repository** 클릭

---

### 3단계: 현재 프로젝트를 GitHub에 연결

**PowerShell에서 실행:**

```powershell
# 1. 프로젝트 폴더로 이동
cd c:\interibot

# 2. Git 사용자 정보 설정 (처음 한 번만)
git config --global user.name "당신의 이름"
git config --global user.email "당신의 이메일"

# 3. 현재 변경사항 커밋
git add .
git commit -m "백업 설정 전 전체 코드 저장"

# 4. GitHub 저장소 연결
# (GitHub에서 만든 저장소 URL 사용)
git remote add origin https://github.com/당신의계정명/interibot.git

# 5. GitHub에 업로드
git push -u origin master
```

**주의:** `당신의계정명`과 `당신의 이메일`은 실제 값으로 바꿔주세요!

---

### 4단계: 매일 작업 후 자동 백업

**작업 끝날 때마다 실행:**

```powershell
cd c:\interibot

# 1. 변경된 파일 확인
git status

# 2. 모든 변경사항 추가
git add .

# 3. 커밋 (변경 내용 설명)
git commit -m "오늘 작업 내용: V5 상태 머신 구현"

# 4. GitHub에 업로드
git push
```

**예시:**
```powershell
git commit -m "V5 견적 API 수정"
git commit -m "인테리어 MBTI 기능 추가"
git commit -m "버그 수정: 견적 계산 오류 해결"
```

---

### 5단계: 다른 컴퓨터에서 작업 시작하기

**새 컴퓨터에서:**

```powershell
# 1. Git 설치 (https://git-scm.com/download/win)
# 2. 프로젝트 다운로드
cd c:\
git clone https://github.com/당신의계정명/interibot.git

# 3. 프로젝트 폴더로 이동
cd interibot

# 4. 의존성 설치
npm install

# 5. .env 파일 복원 (원드라이브에서)
# (아래 Part 2 참고)

# 6. 개발 서버 실행
npm run dev
```

**끝!** 바로 작업 시작 가능합니다.

---

## 📋 Part 2: 원드라이브 백업 (중요 파일)

### 백업해야 할 파일들

```
✅ .env.local          (API 키, DB 정보)
✅ .env                (환경 변수)
✅ package.json        (의존성 목록)
✅ prisma/schema.prisma (DB 스키마)
✅ docs/               (문서들)
```

---

### 원드라이브 백업 설정 방법

#### 방법 1: 원드라이브 폴더에 프로젝트 복사 (간단)

```
1. 원드라이브 폴더 열기
   C:\Users\당신의계정\OneDrive\

2. interibot-backup 폴더 만들기

3. 다음 파일들만 복사:
   - .env.local
   - .env
   - package.json
   - prisma/schema.prisma
   - docs/ (전체 폴더)
```

#### 방법 2: 심볼릭 링크 사용 (자동 동기화) - 고급

**PowerShell 관리자 권한으로 실행:**

```powershell
# 원드라이브에 백업 폴더 만들기
New-Item -ItemType Directory -Path "$env:USERPROFILE\OneDrive\interibot-backup" -Force

# 중요 파일들을 원드라이브로 복사
Copy-Item "c:\interibot\.env.local" "$env:USERPROFILE\OneDrive\interibot-backup\" -Force
Copy-Item "c:\interibot\.env" "$env:USERPROFILE\OneDrive\interibot-backup\" -Force
Copy-Item "c:\interibot\package.json" "$env:USERPROFILE\OneDrive\interibot-backup\" -Force
Copy-Item "c:\interibot\prisma\schema.prisma" "$env:USERPROFILE\OneDrive\interibot-backup\" -Force

# docs 폴더 전체 복사
Copy-Item "c:\interibot\docs" "$env:USERPROFILE\OneDrive\interibot-backup\docs" -Recurse -Force
```

**매주 금요일 저녁에 실행하세요!**

---

### 자동 백업 스크립트 만들기

**파일 생성:** `c:\interibot\scripts\backup-to-onedrive.ps1`

```powershell
# 원드라이브 백업 스크립트

$sourceDir = "c:\interibot"
$backupDir = "$env:USERPROFILE\OneDrive\interibot-backup"

# 백업 폴더 생성
New-Item -ItemType Directory -Path $backupDir -Force | Out-Null

# 중요 파일 복사
Write-Host "백업 시작..." -ForegroundColor Green

Copy-Item "$sourceDir\.env.local" "$backupDir\" -Force -ErrorAction SilentlyContinue
Copy-Item "$sourceDir\.env" "$backupDir\" -Force -ErrorAction SilentlyContinue
Copy-Item "$sourceDir\package.json" "$backupDir\" -Force
Copy-Item "$sourceDir\package-lock.json" "$backupDir\" -Force -ErrorAction SilentlyContinue
Copy-Item "$sourceDir\prisma\schema.prisma" "$backupDir\" -Force

# docs 폴더 백업
Copy-Item "$sourceDir\docs" "$backupDir\docs" -Recurse -Force

# 백업 완료 시간 기록
$timestamp = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
"마지막 백업: $timestamp" | Out-File "$backupDir\backup-log.txt"

Write-Host "백업 완료! ($timestamp)" -ForegroundColor Green
Write-Host "백업 위치: $backupDir" -ForegroundColor Cyan
```

**실행 방법:**

```powershell
# PowerShell에서
cd c:\interibot
.\scripts\backup-to-onedrive.ps1
```

---

## 📋 Part 3: 수동 백업 (주 1회)

### 전체 프로젝트 백업

**외장 하드나 USB에 주 1회 복사:**

```
1. 외장 하드/USB 연결

2. c:\interibot 폴더 전체 복사
   → 외장 하드\interibot-backup-2025-12-31\

3. 백업 날짜 폴더명에 기록
```

**또는 원드라이브에 전체 복사:**

```powershell
# 전체 프로젝트를 원드라이브에 압축해서 백업
cd c:\interibot
Compress-Archive -Path * -DestinationPath "$env:USERPROFILE\OneDrive\interibot-full-backup-$(Get-Date -Format 'yyyy-MM-dd').zip" -Force
```

---

## 📋 Part 4: .env 파일 안전하게 백업하기

### .env 파일이 중요한 이유

```
.env.local 파일에 들어있는 것:
- OPENAI_API_KEY=sk-...
- SUPABASE_URL=https://...
- SUPABASE_KEY=eyJ...
- DATABASE_URL=postgresql://...
```

**이 파일이 없으면:**
- ❌ API 호출 불가
- ❌ DB 연결 불가
- ❌ 서비스 작동 불가

---

### .env 파일 백업 방법

#### 방법 1: 원드라이브에 암호화해서 저장

**1. .env 파일을 암호화된 텍스트로 변환:**

```powershell
# .env.local 파일 내용을 안전하게 저장
# (비밀번호로 암호화)

# 1. .env.local 파일 읽기
$envContent = Get-Content "c:\interibot\.env.local" -Raw

# 2. 원드라이브에 텍스트 파일로 저장 (이름만 바꿔서)
$envContent | Out-File "$env:USERPROFILE\OneDrive\interibot-env-backup.txt"
```

**주의:** 이 파일은 **절대 GitHub에 올리지 마세요!**

#### 방법 2: 비밀 메모장에 저장

```
1. .env.local 파일 열기
2. 내용 전체 복사 (Ctrl+A, Ctrl+C)
3. 비밀 메모장 앱에 붙여넣기
   (예: 1Password, LastPass, 또는 안전한 메모장)
```

---

## 📋 Part 5: 자동 백업 설정 (매일 자동)

### Windows 작업 스케줄러 설정

**1. 작업 스케줄러 열기:**
- Windows 검색에서 "작업 스케줄러" 검색
- 열기

**2. 기본 작업 만들기:**
- 오른쪽 "기본 작업 만들기" 클릭
- 이름: "인테리봇 Git 백업"
- 트리거: 매일 오후 6시
- 동작: 프로그램 시작
- 프로그램: `C:\Program Files\Git\bin\bash.exe`
- 인수: `-c "cd /c/interibot && git add . && git commit -m '자동 백업 $(date)' && git push"`

**또는 PowerShell 스크립트 사용:**

**파일 생성:** `c:\interibot\scripts\auto-backup.ps1`

```powershell
# 자동 백업 스크립트

cd c:\interibot

# Git 백업
Write-Host "Git 백업 시작..." -ForegroundColor Green
git add .
$commitMessage = "자동 백업: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')"
git commit -m $commitMessage
git push

# 원드라이브 백업
Write-Host "원드라이브 백업 시작..." -ForegroundColor Green
& "c:\interibot\scripts\backup-to-onedrive.ps1"

Write-Host "모든 백업 완료!" -ForegroundColor Green
```

**작업 스케줄러에서 실행:**
- 프로그램: `powershell.exe`
- 인수: `-ExecutionPolicy Bypass -File "c:\interibot\scripts\auto-backup.ps1"`

---

## 📋 Part 6: 다른 컴퓨터에서 복원하기

### 시나리오: 노트북 고장 → 새 컴퓨터에서 작업

#### 1단계: Git에서 코드 다운로드

```powershell
# 새 컴퓨터에서
cd c:\
git clone https://github.com/당신의계정명/interibot.git
cd interibot
```

#### 2단계: 의존성 설치

```powershell
npm install
```

#### 3단계: .env 파일 복원

**원드라이브에서:**
```
1. 원드라이브\interibot-backup\ 폴더 열기
2. .env.local 파일 복사
3. c:\interibot\ 폴더에 붙여넣기
```

#### 4단계: 개발 서버 실행

```powershell
npm run dev
```

**끝!** 바로 작업 시작 가능합니다.

---

## 📋 Part 7: 백업 체크리스트

### 매일 작업 전

- [ ] Git 상태 확인: `git status`
- [ ] 변경사항 커밋: `git commit -m "작업 내용"`
- [ ] GitHub에 업로드: `git push`

### 매주 금요일

- [ ] 원드라이브 백업 실행: `.\scripts\backup-to-onedrive.ps1`
- [ ] .env 파일 확인 (원드라이브에 있는지)
- [ ] 전체 프로젝트 압축 백업 (선택)

### 매월 말일

- [ ] 외장 하드/USB에 전체 백업
- [ ] 백업 파일 테스트 (다른 폴더에서 압축 해제해보기)

---

## 🚨 주의사항

### 절대 GitHub에 올리면 안 되는 파일

```
❌ .env
❌ .env.local
❌ .env.production
❌ node_modules/
❌ .next/
❌ *.log
```

**이미 .gitignore에 포함되어 있지만 확인하세요!**

---

## 💡 백업 확인 방법

### Git 백업 확인

```powershell
# GitHub 웹사이트에서
https://github.com/당신의계정명/interibot

# 최근 커밋이 보이면 백업 성공!
```

### 원드라이브 백업 확인

```
1. 원드라이브 폴더 열기
2. interibot-backup 폴더 확인
3. 파일들이 있는지 확인
```

---

## 📞 문제 해결

### Git push 실패 시

```powershell
# 1. GitHub 인증 확인
git config --global user.name
git config --global user.email

# 2. 원격 저장소 확인
git remote -v

# 3. 강제 푸시 (주의!)
git push -f origin master
```

### 원드라이브 동기화 안 될 때

```
1. 원드라이브 아이콘 우클릭
2. 설정 → 계정 → 이 PC 동기화
3. 동기화 확인
```

---

## 📝 요약

### 필수 백업 (매일)

1. **Git + GitHub** (코드)
   ```powershell
   git add .
   git commit -m "작업 내용"
   git push
   ```

2. **원드라이브** (.env 파일)
   - 주 1회 수동 복사
   - 또는 자동 스크립트 실행

### 선택 백업 (주 1회)

3. **전체 프로젝트 압축**
   - 원드라이브 또는 외장 하드

---

## ✅ 완료 체크리스트

백업 설정이 완료되면:

- [ ] GitHub 저장소 생성 완료
- [ ] Git 초기 커밋 완료
- [ ] 원드라이브 백업 폴더 생성
- [ ] .env 파일 백업 완료
- [ ] 자동 백업 스크립트 테스트 완료
- [ ] 다른 컴퓨터에서 복원 테스트 완료

---

**문서 작성 완료** ✅  
**작성일**: 2025-12-31  
**버전**: 1.0
