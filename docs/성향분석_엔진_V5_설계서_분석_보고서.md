# 인테리봇 성향분석 엔진 V5 설계서 분석 보고서

> **작성일**: 2025-01-21  
> **분석 대상**: 성향분석 엔진 설계서 V5 (최종)  
> **상태**: 분석 완료, 실행 금지

---

## 📋 목차

1. [개요](#개요)
2. [기존 시스템 vs 신규 설계 비교](#기존-시스템-vs-신규-설계-비교)
3. [핵심 설계 요소 분석](#핵심-설계-요소-분석)
4. [장점 및 강점](#장점-및-강점)
5. [잠재적 문제점 및 리스크](#잠재적-문제점-및-리스크)
6. [구현 가능성 평가](#구현-가능성-평가)
7. [비용 분석](#비용-분석)
8. [기존 시스템과의 통합 방안](#기존-시스템과의-통합-방안)
9. [우선순위별 권장 사항](#우선순위별-권장-사항)
10. [종합 평가 및 결론](#종합-평가-및-결론)

---

## 개요

### 설계서 핵심 내용

**목표**: 규칙 기반 질문은행 + AI 하이브리드 구조로 빠르고 정확한 성향 분석

**핵심 원칙**:
- 질문/점수 누적: 규칙 엔진 (빠름, 저비용)
- 맥락 파악/추천 생성: AI (자연스러움, 정확함)
- 상태조사 질문 금지
- 성향만 측정 → 추천으로 직결

**AI 호출 횟수**: 3회/세션 (1차 분석, 최종 확정, 추천 생성)

**예상 비용**: ₩105~135/세션 (GPT-4o 사용 시) 또는 ₩50/세션 (GPT-4o-mini만 사용 시)

---

## 기존 시스템 vs 신규 설계 비교

### 1. 트레이트 체계 비교

| 항목 | 기존 V5 시스템 | 신규 V5 설계서 |
|------|---------------|----------------|
| **트레이트 수** | 8개 (TraitScores) | 6개 (6축) |
| **트레이트 종류** | spaceEfficiency, cleaningSensitivity, visualSensitivity, familyInfluence, budgetFlexibility, styleCommitment, flowImportance, independencePreference | TR_VIS (시각 자극), TR_TONE (온도감/색감), TR_STORE (수납), TR_MAINT (유지관리), TR_LIFE (생활 방식), TR_HOST (손님/모임) |
| **점수 범위** | 0~100 | -5 ~ +5 |
| **점수 체계** | 절대값 (높을수록 강함) | 상대값 (음수/양수로 방향성 표현) |
| **DNA 타입** | 10개 (여우, 사자, 곰, 부엉이, 돌고래, 백조, 벌, 나비, 거북이, 토끼) | 스타일 룰 8개 + 중립형 3개 |

**분석**:
- ✅ **신규 설계의 장점**: 6축이 더 직관적이고 명확함. 음수/양수로 방향성을 명확히 표현
- ⚠️ **주의사항**: 기존 8개 트레이트와의 매핑 관계가 불명확. 마이그레이션 전략 필요

### 2. 질문 구조 비교

| 항목 | 기존 V5 시스템 | 신규 V5 설계서 |
|------|---------------|----------------|
| **1차 질문 수** | 5개 (PRIMARY_QUESTIONS) | 5개 (동일) |
| **1차 질문 내용** | 요리빈도, 청소스타일, 소음민감도, 가족구성, 인테리어 우선순위 | 시각 자극, 온도감/색감, 수납 성향, 유지관리, 생활/손님 성향 |
| **2차 질문 수** | 공정별 1~2개 (총 약 15개) | 공정별 5개 (총 40개) |
| **2차 질문 구조** | 간단한 선택지 + recommendation | 상세한 선택지 + trait_delta 매핑 |
| **질문 생성 방식** | 규칙 기반 (고정 질문은행) | 규칙 기반 (고정 질문은행) |

**분석**:
- ✅ **신규 설계의 장점**: 2차 질문이 훨씬 상세하고 체계적. 공정별 5개씩으로 깊이 있는 분석 가능
- ⚠️ **주의사항**: 질문 수가 2.5배 증가 (15개 → 40개). 사용자 피로도 증가 가능성

### 3. AI 활용 방식 비교

| 항목 | 기존 V5 시스템 | 신규 V5 설계서 |
|------|---------------|----------------|
| **AI 호출 횟수** | 불명확 (질문 생성, 분석 등) | 명확히 3회/세션 |
| **AI 역할** | 질문 생성 (question-engine.ts) | 1차 분석, 최종 확정, 추천 생성 |
| **규칙 vs AI** | 혼합 (질문 생성은 AI, 분석은 규칙) | 명확한 분담 (질문=규칙, 분석=AI) |
| **비용 예측** | 불명확 | 명확 (₩105~135/세션) |

**분석**:
- ✅ **신규 설계의 장점**: AI 호출 횟수가 명확하고 제한적. 비용 예측 가능
- ✅ **신규 설계의 장점**: 규칙과 AI의 역할 분담이 명확함

### 4. 스타일 매칭 비교

| 항목 | 기존 V5 시스템 | 신규 V5 설계서 |
|------|---------------|----------------|
| **스타일 종류** | 모던, 내추럴, 미니멀, 북유럽, 클래식 등 (StyleSelector) | 모던 미니멀, 내추럴 우드, 개성 포인트, 클래식 럭셔리 등 (8개 룰) |
| **매칭 방식** | DNA 타입 기반 추천 | 트레이트 점수 기반 룰 매칭 + AI 검증 |
| **자재 태그** | 불명확 | 20개 자재 태그 명시 (MAT_MATTE, MAT_WOOD 등) |

**분석**:
- ✅ **신규 설계의 장점**: 자재 태그가 명확하고 체계적. 트레이트와 자재의 연결이 명확함

---

## 핵심 설계 요소 분석

### 1. 6축 트레이트 체계

**구조**:
```
TR_VIS (시각 자극): 미니멀·깔끔 (-) ↔ 볼드·포인트 (+)
TR_TONE (온도감/색감): 웜톤·따뜻함 (-) ↔ 쿨톤·차가움 (+)
TR_STORE (수납): 숨김·빌트인 (-) ↔ 오픈·미니멀 (+)
TR_MAINT (유지관리): 관리 최소 (-) ↔ 관리 감수 (+)
TR_LIFE (생활 방식): 집순이 (-) ↔ 바깥활동형 (+)
TR_HOST (손님/모임): 프라이빗 (-) ↔ 호스팅 (+)
```

**평가**: ⭐⭐⭐⭐⭐ (5/5)
- **장점**: 
  - 음수/양수로 방향성을 명확히 표현
  - 6개 축이 서로 독립적이면서도 상호 보완적
  - 각 축이 실제 추천에 직접 연결됨
- **단점**: 없음

### 2. 질문 구조 (1차 + 2차)

**1차 질문 (5개)**:
- Q1: 시각 자극 성향
- Q2: 온도감/색감 성향
- Q3: 수납 성향
- Q4: 유지관리 성향
- Q5: 생활/손님 성향

**평가**: ⭐⭐⭐⭐ (4/5)
- **장점**: 
  - 6축 트레이트를 모두 커버
  - 질문이 직관적이고 이해하기 쉬움
- **단점**: 
  - Q5가 두 가지 성향을 묻고 있어 복잡할 수 있음 (TR_HOST + TR_LIFE)

**2차 질문 (공정별 5개씩, 총 40개)**:
- 주방: 5개
- 욕실: 5개
- 바닥재: 5개
- 타일: 5개
- 도배/벽지: 5개
- 가구: 5개
- 창호: 5개
- 중문: 5개

**평가**: ⭐⭐⭐ (3/5)
- **장점**: 
  - 공정별로 깊이 있는 분석 가능
  - 각 질문에 trait_delta가 명확히 매핑됨
- **단점**: 
  - 질문 수가 많아 사용자 피로도 증가 가능
  - 모든 공정을 선택하면 40개 질문 (현실적으로 불가능)
  - 선택한 공정에 따라 질문 수가 크게 달라짐 (3개 선택 시 15개, 8개 선택 시 40개)

**개선 제안**:
- 2차 질문은 공정별로 2~3개로 축소
- 또는 공정별로 우선순위를 매겨 상위 3개 공정만 5개씩 질문

### 3. 스타일 룰 (8개 + 중립형)

**기본 룰 8개**:
1. RULE_01: 모던 미니멀 (TR_VIS ≤ -2 AND TR_MAINT ≤ -2)
2. RULE_02: 내추럴 우드 (TR_TONE ≤ -2)
3. RULE_03: 개성 포인트 (TR_VIS ≥ +2)
4. RULE_04: 클래식 럭셔리 (TR_VIS ≥ +1 AND TR_TONE ≥ +1)
5. RULE_05: 편안한 소프트 (TR_TONE ≤ -1 AND TR_MAINT ≤ 0)
6. RULE_06: 현대 모던 컬러 (TR_VIS ≥ +2 AND TR_TONE ≥ 0)
7. RULE_07: 미니멀 실용 (TR_STORE ≥ +2 AND TR_MAINT ≤ -1)
8. RULE_08: 사교적 오픈 (TR_HOST ≥ +2)

**평가**: ⭐⭐⭐⭐ (4/5)
- **장점**: 
  - 룰 조건이 명확하고 구현하기 쉬움
  - 트레이트 점수와 직접 연결됨
- **단점**: 
  - 룰 8개로는 모든 조합을 커버하기 어려울 수 있음
  - 중립형 룰의 우선순위가 10으로 낮아서 폴백 역할만 함

**개선 제안**:
- 룰을 12~15개로 확대하여 더 다양한 조합 커버
- 중립형 룰도 우선순위를 조정하여 적절히 활용

### 4. 자재 태그 (20개)

**태그 종류**:
- MAT_MATTE, MAT_HI_GLOSS, MAT_NEUTRAL_COOL, MAT_WARM, MAT_WOOD, MAT_STONE, MAT_ENGINEERED_STONE, MAT_PATTERN_TILE, MAT_COLOR_POINT, MAT_MARBLE, MAT_EASY_CLEAN, MAT_CUSHION, MAT_COMPACT_STORAGE, MAT_OPEN_PLAN, MAT_GLASS_FRAME, MAT_WOOD_FRAME, MAT_SMART, MAT_DURABLE, MAT_TEXTURE, MAT_CONTRAST

**평가**: ⭐⭐⭐⭐⭐ (5/5)
- **장점**: 
  - 자재와 트레이트의 연결이 명확함
  - 실제 자재 선택에 직접 활용 가능
- **단점**: 없음

### 5. AI 활용 구조 (3회 호출)

**AI 호출 1: 1차 응답 분석**
- 목적: 5개 응답의 맥락 파악, 모순 감지, 2차 질문 제안
- 모델: GPT-4o-mini
- 예상 비용: ₩10~15

**AI 호출 2: 최종 프로필 + 스타일 매칭**
- 목적: 1차 + 2차 종합, 최종 트레이트, 스타일 확정
- 모델: GPT-4o-mini
- 예상 비용: ₩15~20

**AI 호출 3: 자재/가구 추천 + 설명 생성**
- 목적: 공정별 구체 추천, 자재 조합 검증, 자연어 설명
- 모델: GPT-4o (또는 GPT-4o-mini로 절감 가능)
- 예상 비용: ₩80~100 (GPT-4o) 또는 ₩20~30 (GPT-4o-mini)

**평가**: ⭐⭐⭐⭐⭐ (5/5)
- **장점**: 
  - AI 호출 횟수가 명확하고 제한적
  - 비용 예측 가능
  - 규칙과 AI의 역할 분담이 명확함
- **단점**: 없음

---

## 장점 및 강점

### 1. 구조적 명확성 ⭐⭐⭐⭐⭐

- **규칙 vs AI 분담이 명확**: 질문/점수 누적은 규칙, 맥락 파악/추천은 AI
- **트레이트 체계가 직관적**: 6축이 명확하고 방향성 표현이 뛰어남
- **비용 예측 가능**: AI 호출 3회로 고정, 비용 산정 가능

### 2. 확장성 및 유지보수성 ⭐⭐⭐⭐

- **질문은행 구조**: 질문 추가/수정이 쉬움
- **룰 기반 매칭**: 스타일 룰 추가/수정이 쉬움
- **자재 태그 체계**: 자재 추가 시 태그만 연결하면 됨

### 3. 사용자 경험 ⭐⭐⭐

- **질문이 직관적**: 1차 질문 5개가 이해하기 쉬움
- **추천 이유가 명확**: recall + recommended + reason + warning 구조

### 4. 비즈니스 가치 ⭐⭐⭐⭐

- **비용 효율적**: 세션당 ₩50~135 (GPT-4o-mini만 사용 시 ₩50)
- **속도**: 전체 플로우 10초 이내 목표
- **정확성**: 규칙 + AI 하이브리드로 정확도 향상

---

## 잠재적 문제점 및 리스크

### 1. 🔴 높은 리스크

#### 문제 1: 2차 질문 수 과다
- **문제**: 공정별 5개씩, 총 40개 질문
- **영향**: 
  - 사용자 피로도 증가
  - 이탈률 증가 가능성
  - 모든 공정 선택 시 현실적으로 불가능
- **해결 방안**: 
  - 공정별 질문 수를 2~3개로 축소
  - 또는 선택한 공정 중 상위 3개만 5개씩 질문

#### 문제 2: 기존 시스템과의 호환성
- **문제**: 기존 8개 트레이트와 신규 6축 트레이트의 매핑 관계 불명확
- **영향**: 
  - 기존 데이터 마이그레이션 어려움
  - 기존 추천 로직과의 연결 어려움
- **해결 방안**: 
  - 기존 트레이트 → 신규 6축 매핑 테이블 작성
  - 점진적 마이그레이션 전략 수립

### 2. 🟡 중간 리스크

#### 문제 3: 스타일 룰 커버리지 부족
- **문제**: 룰 8개로는 모든 트레이트 조합을 커버하기 어려움
- **영향**: 
  - 일부 사용자에게 적합한 스타일이 없을 수 있음
  - 중립형 룰에 의존하는 경우가 많아질 수 있음
- **해결 방안**: 
  - 룰을 12~15개로 확대
  - 중립형 룰의 우선순위 조정

#### 문제 4: AI 프롬프트 품질 의존성
- **문제**: AI 3회 호출의 품질이 프롬프트에 크게 의존
- **영향**: 
  - 프롬프트 품질이 낮으면 추천 정확도 하락
  - A/B 테스트 필요
- **해결 방안**: 
  - 프롬프트 버전 관리
  - 실제 사용자 데이터로 프롬프트 개선

#### 문제 5: 질문 Q5의 복잡성
- **문제**: Q5가 TR_HOST와 TR_LIFE 두 가지 성향을 동시에 묻고 있음
- **영향**: 
  - 사용자가 혼란스러울 수 있음
  - 점수 계산이 복잡해짐
- **해결 방안**: 
  - Q5를 두 개로 분리 (Q5: 생활 방식, Q6: 손님/모임)
  - 또는 선택지별로 명확히 구분

### 3. 🟢 낮은 리스크

#### 문제 6: 자재 태그 확장성
- **문제**: 자재 태그 20개가 모든 자재를 커버하기 어려울 수 있음
- **영향**: 새로운 자재 추가 시 태그 부족
- **해결 방안**: 태그 추가는 쉬우므로 문제 없음

---

## 구현 가능성 평가

### 1. 기술적 구현 난이도

| 항목 | 난이도 | 이유 |
|------|--------|------|
| **6축 트레이트 체계** | ⭐⭐ (쉬움) | 단순 점수 계산 및 누적 |
| **질문은행 구조** | ⭐ (매우 쉬움) | 기존 PRIMARY_QUESTIONS와 유사 |
| **스타일 룰 매칭** | ⭐⭐ (쉬움) | 조건문 기반 룰 체크 |
| **자재 태그 매핑** | ⭐⭐ (쉬움) | 트레이트 → 태그 매핑 테이블 |
| **AI 3회 호출 구조** | ⭐⭐⭐ (보통) | 프롬프트 설계 및 API 연동 필요 |
| **기존 시스템 통합** | ⭐⭐⭐⭐ (어려움) | 기존 트레이트와의 매핑 전략 필요 |

**종합 난이도**: ⭐⭐⭐ (보통)

### 2. 개발 일정 예상

| 작업 | 예상 기간 | 우선순위 |
|------|-----------|----------|
| **6축 트레이트 체계 구현** | 2일 | 높음 |
| **질문은행 데이터 구조화** | 3일 | 높음 |
| **스타일 룰 엔진 구현** | 3일 | 높음 |
| **자재 태그 시스템 구현** | 2일 | 중간 |
| **AI 프롬프트 설계 및 테스트** | 5일 | 높음 |
| **API 엔드포인트 구현** | 5일 | 높음 |
| **기존 시스템 통합** | 7일 | 중간 |
| **테스트 및 검증** | 5일 | 높음 |

**총 예상 기간**: 3~4주 (개발자 1명 기준)

### 3. 데이터베이스 설계

**필요한 테이블**:
1. `trait_questions` (질문은행)
2. `trait_rules` (스타일 룰)
3. `material_tags` (자재 태그)
4. `trait_sessions` (세션 데이터)
5. `trait_answers` (응답 데이터)
6. `trait_scores` (트레이트 점수)

**평가**: ⭐⭐ (쉬움) - 기존 스키마 확장 또는 신규 테이블 추가

---

## 비용 분석

### 1. AI API 비용 (세션당)

| 단계 | 모델 | 토큰 수 (예상) | 비용 (₩) |
|------|------|----------------|----------|
| **1차 분석** | GPT-4o-mini | 500 input + 300 output | ₩10~15 |
| **최종 확정** | GPT-4o-mini | 800 input + 400 output | ₩15~20 |
| **추천 생성** | GPT-4o | 1,200 input + 800 output | ₩80~100 |
| **추천 생성 (절감)** | GPT-4o-mini | 1,200 input + 800 output | ₩20~30 |
| **총합 (GPT-4o)** | | | **₩105~135** |
| **총합 (GPT-4o-mini만)** | | | **₩45~65** |

### 2. 월간 비용 예상

| 월 세션 수 | GPT-4o 사용 | GPT-4o-mini만 사용 |
|------------|-------------|-------------------|
| **1,000세션** | ₩105,000~135,000 | ₩45,000~65,000 |
| **5,000세션** | ₩525,000~675,000 | ₩225,000~325,000 |
| **10,000세션** | ₩1,050,000~1,350,000 | ₩450,000~650,000 |
| **50,000세션** | ₩5,250,000~6,750,000 | ₩2,250,000~3,250,000 |

**권장**: 초기에는 GPT-4o-mini만 사용하여 비용 절감, 품질 검증 후 GPT-4o 도입

### 3. 인프라 비용

- **데이터베이스**: 기존 Supabase 사용 시 추가 비용 없음
- **API 서버**: 기존 Next.js API Routes 사용 시 추가 비용 없음
- **스토리지**: 세션 데이터 저장 시 약간의 스토리지 비용 증가 (미미함)

**총 인프라 비용**: 거의 없음 (기존 인프라 활용)

---

## 기존 시스템과의 통합 방안

### 1. 트레이트 매핑 전략

**기존 8개 트레이트 → 신규 6축 매핑**:

| 기존 트레이트 | 신규 6축 | 매핑 방식 |
|---------------|----------|-----------|
| `visualSensitivity` | TR_VIS | 직접 매핑 (높을수록 +) |
| `cleaningSensitivity` | TR_MAINT | 반전 매핑 (높을수록 -, 관리 싫어함) |
| `spaceEfficiency` | TR_STORE | 직접 매핑 (높을수록 +, 수납 중요) |
| `familyInfluence` | TR_HOST | 직접 매핑 (높을수록 +, 손님 많음) |
| `independencePreference` | TR_LIFE | 반전 매핑 (높을수록 -, 집순이) |
| `styleCommitment` | TR_VIS + TR_TONE | 복합 매핑 |
| `budgetFlexibility` | - | 신규 설계에 없음 (별도 처리) |
| `flowImportance` | TR_LIFE | 직접 매핑 |

**주의사항**: 
- 매핑이 완벽하지 않으므로 점진적 마이그레이션 필요
- 기존 데이터는 보존하고 신규 데이터만 신규 시스템 사용

### 2. DNA 타입 vs 스타일 룰

**기존 DNA 타입 (10개)**:
- 여우, 사자, 곰, 부엉이, 돌고래, 백조, 벌, 나비, 거북이, 토끼

**신규 스타일 룰 (8개)**:
- 모던 미니멀, 내추럴 우드, 개성 포인트, 클래식 럭셔리, 편안한 소프트, 현대 모던 컬러, 미니멀 실용, 사교적 오픈

**통합 방안**:
- DNA 타입은 사용자에게 친숙한 개념이므로 유지
- 스타일 룰은 내부 로직으로만 사용
- DNA 타입 → 스타일 룰 매핑 테이블 작성

### 3. 질문 구조 통합

**기존 PRIMARY_QUESTIONS (5개)**:
- 요리빈도, 청소스타일, 소음민감도, 가족구성, 인테리어 우선순위

**신규 1차 질문 (5개)**:
- 시각 자극, 온도감/색감, 수납 성향, 유지관리, 생활/손님 성향

**통합 방안**:
- 기존 질문은 유지하되, 신규 질문으로 점진적 교체
- 또는 두 질문 세트를 병행하여 A/B 테스트

### 4. API 통합

**기존 API**:
- `/api/v5/generate-question` (질문 생성)
- `/api/v5/analyze/fusion` (통합 분석)

**신규 API**:
- `/api/trait/start` (질문 시작)
- `/api/trait/analyze-round1` (1차 분석)
- `/api/trait/analyze-round2` (2차 분석)
- `/api/trait/recommend` (추천 생성)
- `/api/trait/full` (원스톱)

**통합 방안**:
- 신규 API를 별도 경로로 추가 (기존 API와 병행)
- 점진적으로 기존 API를 신규 API로 교체

---

## 우선순위별 권장 사항

### 🔴 즉시 해결 필요 (높은 우선순위)

1. **2차 질문 수 축소**
   - 공정별 5개 → 2~3개로 축소
   - 또는 선택한 공정 중 상위 3개만 5개씩 질문
   - **예상 작업**: 1일

2. **기존 트레이트 매핑 전략 수립**
   - 기존 8개 트레이트 → 신규 6축 매핑 테이블 작성
   - 마이그레이션 전략 문서화
   - **예상 작업**: 2일

3. **AI 프롬프트 초안 작성 및 테스트**
   - 3개 AI 호출의 프롬프트 초안 작성
   - 샘플 데이터로 테스트
   - **예상 작업**: 3일

### 🟡 단기 개선 (중간 우선순위)

4. **스타일 룰 확대**
   - 룰 8개 → 12~15개로 확대
   - 중립형 룰 우선순위 조정
   - **예상 작업**: 2일

5. **질문 Q5 분리**
   - Q5를 두 개로 분리 (생활 방식, 손님/모임)
   - 1차 질문을 6개로 확대
   - **예상 작업**: 1일

6. **데이터베이스 스키마 설계**
   - 필요한 테이블 설계
   - 마이그레이션 스크립트 작성
   - **예상 작업**: 2일

### 🟢 장기 개선 (낮은 우선순위)

7. **자재 태그 확장**
   - 필요에 따라 태그 추가
   - 태그와 자재의 매핑 관계 구축

8. **A/B 테스트 프레임워크**
   - 기존 시스템 vs 신규 시스템 A/B 테스트
   - 사용자 피드백 수집 및 분석

9. **성능 최적화**
   - AI 호출 최적화
   - 캐싱 전략 수립

---

## 종합 평가 및 결론

### 종합 점수

| 평가 항목 | 점수 | 비고 |
|-----------|------|------|
| **설계 완성도** | ⭐⭐⭐⭐ (4/5) | 매우 잘 설계됨, 일부 개선 필요 |
| **구현 가능성** | ⭐⭐⭐ (3/5) | 보통, 기존 시스템 통합이 관건 |
| **비용 효율성** | ⭐⭐⭐⭐ (4/5) | GPT-4o-mini 사용 시 매우 효율적 |
| **사용자 경험** | ⭐⭐⭐ (3/5) | 2차 질문 수 과다 문제 |
| **확장성** | ⭐⭐⭐⭐⭐ (5/5) | 질문은행, 룰, 태그 모두 확장 용이 |
| **비즈니스 가치** | ⭐⭐⭐⭐ (4/5) | 비용 대비 효과 우수 |

**총점**: ⭐⭐⭐⭐ (4/5) - **매우 우수한 설계**

### 핵심 강점

1. ✅ **구조적 명확성**: 규칙 vs AI 분담이 명확하고 체계적
2. ✅ **비용 예측 가능**: AI 호출 3회로 고정, 비용 산정 가능
3. ✅ **확장성**: 질문은행, 룰, 태그 모두 확장 용이
4. ✅ **직관적 트레이트**: 6축이 명확하고 방향성 표현이 뛰어남

### 주요 개선 필요 사항

1. ⚠️ **2차 질문 수 축소**: 공정별 5개 → 2~3개로 축소 필요
2. ⚠️ **기존 시스템 통합**: 트레이트 매핑 전략 수립 필요
3. ⚠️ **스타일 룰 확대**: 룰 8개 → 12~15개로 확대 권장

### 최종 권장 사항

**✅ 즉시 진행 가능**:
- 설계서는 매우 우수하므로 구현 시작 가능
- 다만 2차 질문 수 축소와 기존 시스템 통합 전략을 먼저 수립

**✅ 단계적 구현**:
1. **1단계**: 6축 트레이트 체계 + 1차 질문 5개 구현 (1주)
2. **2단계**: 스타일 룰 엔진 + 자재 태그 시스템 구현 (1주)
3. **3단계**: AI 프롬프트 설계 및 API 구현 (1주)
4. **4단계**: 기존 시스템 통합 및 테스트 (1주)

**✅ 비용 최적화**:
- 초기에는 GPT-4o-mini만 사용 (세션당 ₩45~65)
- 품질 검증 후 GPT-4o 도입 검토

**✅ A/B 테스트**:
- 기존 시스템과 신규 시스템을 병행하여 A/B 테스트
- 사용자 피드백 수집 및 분석

---

## 부록: 상세 비교표

### 트레이트 매핑 상세

| 기존 트레이트 | 점수 범위 | 신규 6축 | 점수 범위 | 매핑 공식 |
|---------------|-----------|----------|-----------|-----------|
| `visualSensitivity` | 0~100 | TR_VIS | -5~+5 | `(score - 50) / 10` |
| `cleaningSensitivity` | 0~100 | TR_MAINT | -5~+5 | `(50 - score) / 10` (반전) |
| `spaceEfficiency` | 0~100 | TR_STORE | -5~+5 | `(score - 50) / 10` |
| `familyInfluence` | 0~100 | TR_HOST | -5~+5 | `(score - 50) / 10` |
| `independencePreference` | 0~100 | TR_LIFE | -5~+5 | `(50 - score) / 10` (반전) |
| `styleCommitment` | 0~100 | TR_VIS + TR_TONE | -5~+5 | 복합 계산 |
| `budgetFlexibility` | 0~100 | - | - | 별도 처리 |
| `flowImportance` | 0~100 | TR_LIFE | -5~+5 | `(score - 50) / 10` |

### 질문 수 비교

| 항목 | 기존 V5 | 신규 V5 | 차이 |
|------|---------|---------|------|
| 1차 질문 | 5개 | 5개 | 동일 |
| 2차 질문 (최소) | 3개 (공정 3개 선택 시) | 15개 (공정 3개 × 5개) | +12개 |
| 2차 질문 (최대) | 15개 (공정 8개 선택 시) | 40개 (공정 8개 × 5개) | +25개 |
| 총 질문 수 (최소) | 8개 | 20개 | +12개 |
| 총 질문 수 (최대) | 20개 | 45개 | +25개 |

---

**작성일**: 2025-01-21  
**버전**: 1.0  
**상태**: 분석 완료, 실행 금지

