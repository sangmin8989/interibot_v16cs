# ê²¬ì  ì‹œìŠ¤í…œ ì „ì²´ ë¡œì§ ë¶„ì„

## ğŸ“‹ ëª©ì°¨
1. [ì „ì²´ íë¦„ë„](#ì „ì²´-íë¦„ë„)
2. [ë°ì´í„° êµ¬ì¡°](#ë°ì´í„°-êµ¬ì¡°)
3. [ê³„ì‚° ë¡œì§](#ê³„ì‚°-ë¡œì§)
4. [ìƒì„¸ê²¬ì  í‘œì‹œ ë¡œì§](#ìƒì„¸ê²¬ì -í‘œì‹œ-ë¡œì§)
5. [ë¬¸ì œì  ë¶„ì„](#ë¬¸ì œì -ë¶„ì„)

---

## ğŸ”„ ì „ì²´ íë¦„ë„

```
[ì‚¬ìš©ì ì…ë ¥]
    â†“
[ì§‘ ì •ë³´ ì…ë ¥] (spaceInfo)
    â”œâ”€ í‰ìˆ˜ (py)
    â”œâ”€ ë°© ê°œìˆ˜ (rooms)
    â””â”€ ìš•ì‹¤ ê°œìˆ˜ (bathrooms)
    â†“
[ê³µê°„ ì„ íƒ] (selectedSpaces)
    â””â”€ ê±°ì‹¤, ì£¼ë°©, ìš•ì‹¤, ë°© ë“±
    â†“
[ê³µì • ì„ íƒ] (selectedProcessesBySpace)
    â””â”€ ê³µê°„ë³„ë¡œ ê³µì • ì„ íƒ (ë²½ë©´ë§ˆê°, ë°”ë‹¥ë§ˆê°, ì£¼ë°©ì½”ì–´ ë“±)
    â†“
[ì„¸ë¶€ ì˜µì…˜] (detailOptions)
    â”œâ”€ ì£¼ë°©ì˜µì…˜ (í˜•íƒœ, ëƒ‰ì¥ê³ ì¥ ë“±)
    â””â”€ ìš•ì‹¤ì˜µì…˜ (ìŠ¤íƒ€ì¼, ë¹„ë°, ìš•ì¡° ë“±)
    â†“
[ê²¬ì  ê³„ì‚°] calculateFullEstimateV3()
    â”œâ”€ ì…ë ¥ê°’ ê²€ì¦ ë° ë³€í™˜
    â”œâ”€ ê³µì • í™œì„±í™” ì—¬ë¶€ íŒë‹¨
    â”œâ”€ ê³µê°„ë³„ ê²¬ì  ê³„ì‚°
    â””â”€ í•©ê³„ ê³„ì‚°
    â†“
[ê²°ê³¼ ë°˜í™˜] FullEstimateV3
    â”œâ”€ spaces: ê³µê°„ë³„ ê²¬ì 
    â”œâ”€ summary: ì´í•©ê³„
    â””â”€ duration: ê³µì‚¬ê¸°ê°„
    â†“
[UI í‘œì‹œ] estimate/page.tsx
    â”œâ”€ 4ë“±ê¸‰ ì¹´ë“œ í‘œì‹œ
    â”œâ”€ ê²¬ì  ìš”ì•½ íƒ­
    â””â”€ ê³µì •ë³„ ìƒì„¸ íƒ­
```

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### 1. ì…ë ¥ ë°ì´í„° (EstimateInputV3)

```typescript
interface EstimateInputV3 {
  py: number;                    // í‰ìˆ˜
  grade: Grade;                  // ë“±ê¸‰ (BASIC/STANDARD/ARGEN/PREMIUM)
  bathroomCount?: number;         // ìš•ì‹¤ ê°œìˆ˜
  selectedSpaces?: SelectedSpace[];  // ì„ íƒëœ ê³µê°„
  enabledProcessIds?: string[];  // ì„ íƒëœ ê³µì • ID
  detailOptions?: DetailOptions; // ì„¸ë¶€ ì˜µì…˜
  processSelections?: SelectedProcessesBySpace; // ê³µê°„ë³„ ê³µì • ì„ íƒ
  // ... ê¸°íƒ€ ì˜µì…˜
}
```

### 2. ê³µê°„ë³„ ê³µì • ì„ íƒ (SelectedProcessesBySpace)

```typescript
// ì˜ˆì‹œ êµ¬ì¡°
{
  "living": {
    "wall_finish": "wallpaper",    // ë²½ë©´ ë§ˆê°: ë„ë°°
    "floor_finish": "laminate"     // ë°”ë‹¥ ë§ˆê°: ê°•í™”ë§ˆë£¨
  },
  "kitchen": {
    "kitchen_core": "full"         // ì£¼ë°© ì½”ì–´: í’€ì‹œê³µ
  },
  "bathroom": {
    "bathroom_core": "full_remodel" // ìš•ì‹¤ ì½”ì–´: ì „ì²´ ë¦¬ëª¨ë¸ë§
  }
}
```

### 3. ê²°ê³¼ ë°ì´í„° (FullEstimateV3)

```typescript
interface FullEstimateV3 {
  input: {
    py: number;
    sizeRange: SizeRange;
    grade: Grade;
    gradeName: string;
  };
  
  spaces: {
    common: SpaceEstimate;        // ê³µí†µ ê³µì‚¬ (ì² ê±°, ë³´ì–‘, ì²­ì†Œ)
    living: SpaceEstimate;       // ê±°ì‹¤/ë³µë„
    kitchen: SpaceEstimate;      // ì£¼ë°©
    subKitchen?: SpaceEstimate;  // ë³´ì¡°ì£¼ë°© (30í‰ ì´ìƒ)
    bathroom: SpaceEstimate;     // ìš•ì‹¤ (1ê°œì¼ ë•Œ)
    masterBathroom?: SpaceEstimate;  // ì•ˆë°©ìš•ì‹¤ (2ê°œ ì´ìƒ)
    commonBathroom?: SpaceEstimate;  // ê³µìš©ìš•ì‹¤ (2ê°œ ì´ìƒ)
    storage: SpaceEstimate;      // ìˆ˜ë‚©/ê°€êµ¬
    window: SpaceEstimate;       // ì°½í˜¸
    lighting?: SpaceEstimate;    // ì¡°ëª… (ì˜µì…˜)
    balcony?: SpaceEstimate;     // ë°œì½”ë‹ˆ (ì˜µì…˜)
    entrance?: SpaceEstimate;    // í˜„ê´€ (ì˜µì…˜)
  };
  
  summary: {
    materialTotal: number;  // ìì¬ë¹„ í•©ê³„
    laborTotal: number;     // ë…¸ë¬´ë¹„ í•©ê³„
    netTotal: number;       // ìˆœê³µì‚¬ë¹„
    vat: number;            // ë¶€ê°€ì„¸
    grandTotal: number;     // ì´ ê²¬ì 
    pricePerPy: number;     // í‰ë‹¹ ë‹¨ê°€
  };
  
  duration: {
    minDays: number;
    maxDays: number;
    typical: string;
  };
}
```

### 4. ê³µê°„ë³„ ê²¬ì  (SpaceEstimate)

```typescript
interface SpaceEstimate {
  spaceName: string;      // ê³µê°„ëª… (ì˜ˆ: "ê±°ì‹¤/ë³µë„")
  items: ProcessItem[];  // ê³µì • í•­ëª©ë“¤
  subtotal: number;      // ì†Œê³„
}

interface ProcessItem {
  name: string;           // í•­ëª©ëª… (ì˜ˆ: "ë„ë°°")
  quantity?: string;      // ë¬¼ëŸ‰ (ì˜ˆ: "21ë¡¤")
  materialCost: number;  // ìì¬ë¹„
  laborCost: number;     // ë…¸ë¬´ë¹„
  totalCost: number;     // í•©ê³„
  brands?: string[];      // ë¸Œëœë“œ ëª©ë¡
  note?: string;         // ë¹„ê³ 
}
```

---

## âš™ï¸ ê³„ì‚° ë¡œì§

### 1. ê³µì • í™œì„±í™” íŒë‹¨ (calculator-v3.ts:436-727)

```typescript
// processSelectionsì—ì„œ ê³µì • ì¶”ì¶œ
const extractProcessesFromSelections = () => {
  // processSelectionsë¥¼ ìˆœíšŒí•˜ë©´ì„œ
  // - ê³µì • ID ì¶”ì¶œ (finish, kitchen, bathroom ë“±)
  // - ê³µê°„ ID ì¶”ì¶œ (living, kitchen, bathroom ë“±)
  // - ì„¸ë¶€ í”Œë˜ê·¸ ì„¤ì • (hasWallFinish, hasFloorFinish ë“±)
}

// ê³µì •ë³„ í™œì„±í™” ì—¬ë¶€
const hasFinish = hasAllProcesses || (
  (hasLiving || hasOtherRooms) && 
  (finalEnabledProcessIds.includes('finish') || 
   extractedData.hasWallFinish || 
   extractedData.hasFloorFinish)
);

const hasKitchenProcess = hasAllProcesses || (
  hasKitchen && 
  (finalEnabledProcessIds.includes('kitchen') || 
   extractedData.hasKitchenCore)
);
```

### 2. ê³µê°„ë³„ ê²¬ì  ê³„ì‚° ìˆœì„œ

#### 2-1. ê³µí†µ ê³µì‚¬ (common)
- ì² ê±° ë¹„ìš© ê³„ì‚° (ì „ì²´/ë¶€ë¶„)
- íê¸°ë¬¼ ì²˜ë¦¬ ë¹„ìš©
- ë³´ì–‘ ë¹„ìš©
- ì²­ì†Œ ë¹„ìš©

#### 2-2. ê±°ì‹¤/ë³µë„ (living)
- ë„ë°° (wallpaper)
- ë°”ë‹¥ (flooring)
- ë°©ë¬¸ (door)
- ì¤‘ë¬¸ (middleDoor)
- ëª°ë”©/ê±¸ë ˆë°›ì´ (molding)
- í´ë”©ë„ì–´ (ì˜µì…˜)
- ë„ì–´ë½ (ì˜µì…˜)

#### 2-3. ì£¼ë°© (kitchen)
- ì‹±í¬ëŒ€ (kitchen)
- ì£¼ë°© íƒ€ì¼ (tile.kitchen)
- ë³´ì¡°ì£¼ë°© (30í‰ ì´ìƒ, ì˜µì…˜)

#### 2-4. ìš•ì‹¤ (bathroom)
- ìš•ì‹¤ íƒ€ì¼ (tile.bathroom)
- ì–‘ë³€ê¸° (bathroom.toilet)
- ì„¸ë©´ëŒ€ (bathroom.basin)
- ìˆ˜ì „ (bathroom.faucet)
- ìš•ì‹¤ì¥ (bathroom.cabinet)
- ì•¡ì„¸ì„œë¦¬ (bathroom.accessory)
- ë¹„ë° (ì˜µì…˜)
- ìš•ì¡° (ì˜µì…˜)

**ìš•ì‹¤ ê°œìˆ˜ì— ë”°ë¥¸ ë¶„ë¦¬:**
- 1ê°œ: `bathroom` ê³µê°„ì—ë§Œ í‘œì‹œ
- 2ê°œ ì´ìƒ: `masterBathroom` (ì•ˆë°©ìš•ì‹¤) + `commonBathroom` (ê³µìš©ìš•ì‹¤)ë¡œ ë¶„ë¦¬

#### 2-5. ìˆ˜ë‚©/ê°€êµ¬ (storage)
- ë¶™ë°•ì´ì¥ (furniture.closet)
- ì‹ ë°œì¥ (furniture.shoeRack)

#### 2-6. ì°½í˜¸ (window)
- ìƒ·ì‹œ (window)
- í•„ë¦„ (ì˜µì…˜, film)

#### 2-7. ì¡°ëª… (lighting, ì˜µì…˜)
- ë‹¤ìš´ë¼ì´íŠ¸
- ê°„ì ‘ì¡°ëª…
- ìŠ¤ìœ„ì¹˜/ì½˜ì„¼íŠ¸

#### 2-8. ë°œì½”ë‹ˆ (balcony, ì˜µì…˜)
- ë°œì½”ë‹ˆ ê³µì‚¬

#### 2-9. í˜„ê´€ (entrance, ì˜µì…˜)
- í˜„ê´€ íƒ€ì¼

### 3. í•©ê³„ ê³„ì‚° (calculator-v3.ts:1556-1738)

```typescript
// ìì¬ë¹„ í•©ê³„
let materialTotal = 0;
if (hasFinish) materialTotal += wallpaper.materialCost + flooring.materialCost;
if (hasKitchenProcess) materialTotal += kitchen.materialCost + tile.kitchenMaterialCost;
// ... ê° ê³µì •ë³„ë¡œ ëˆ„ì 

// ë…¸ë¬´ë¹„ í•©ê³„
let laborTotal = 0;
laborTotal += commonCosts.demolitionCost;  // ì² ê±°
laborTotal += commonCosts.cleaningCost;    // ì²­ì†Œ
if (hasFinish) laborTotal += wallpaper.laborCost + flooring.laborCost;
// ... ê° ê³µì •ë³„ë¡œ ëˆ„ì 

// ìˆœê³µì‚¬ë¹„ = ìì¬ë¹„ + ë…¸ë¬´ë¹„
const netTotal = materialTotal + laborTotal;

// ë¶€ê°€ì„¸ (10%)
const vat = calculateVAT(netTotal);

// ì´ ê²¬ì  (VAT í¬í•¨)
const grandTotal = priceWithVAT(netTotal);
```

---

## ğŸ–¥ï¸ ìƒì„¸ê²¬ì  í‘œì‹œ ë¡œì§

### ìœ„ì¹˜: `app/onboarding/estimate/page.tsx:1267-1322`

```typescript
// ê³µì •ë³„ ìƒì„¸ íƒ­
{activeTab === 'detail' ? (
  <div className="space-y-4">
    {Object.entries(currentEstimate?.spaces || {}).map(([key, space]) => {
      // âœ… í•„í„°ë§ ì¡°ê±´
      if (!space) return null;                    // ê³µê°„ì´ ì—†ìœ¼ë©´ ì œì™¸
      if (space.items.length === 0) return null;  // í•­ëª©ì´ ì—†ìœ¼ë©´ ì œì™¸
      if (space.subtotal === 0 && key !== 'common') return null;  // ì†Œê³„ê°€ 0ì´ë©´ ì œì™¸ (ê³µí†µ ì œì™¸)
      if (space.spaceName.includes('ë¯¸ì„ íƒ')) return null;  // "(ë¯¸ì„ íƒ)" ê³µê°„ ì œì™¸
      
      return (
        <div key={key} className="border border-gray-200 rounded-xl overflow-hidden">
          {/* ê³µê°„ í—¤ë” */}
          <div className="bg-gray-50 px-4 py-3 flex justify-between items-center">
            <span className="font-bold text-gray-900">{space.spaceName}</span>
            <span className="font-bold text-argen-600">{formatWon(space.subtotal)}</span>
          </div>
          
          {/* í•­ëª© í…Œì´ë¸” */}
          <div className="p-4">
            <table className="w-full text-sm">
              <thead>
                <tr className="text-gray-500 text-xs">
                  <th className="text-left pb-2">í•­ëª©</th>
                  <th className="text-right pb-2">ìì¬ë¹„</th>
                  <th className="text-right pb-2">ë…¸ë¬´ë¹„</th>
                  <th className="text-right pb-2">í•©ê³„</th>
                </tr>
              </thead>
              <tbody>
                {space.items.map((item, i) => (
                  <tr key={i} className="border-t border-gray-100">
                    <td className="py-2">
                      <div className="font-medium text-gray-900">{item.name}</div>
                      {item.quantity && (
                        <div className="text-xs text-gray-500">{item.quantity}</div>
                      )}
                      {item.note && (
                        <div className="text-xs text-argen-500">{item.note}</div>
                      )}
                    </td>
                    <td className="py-2 text-right text-gray-600">
                      {item.materialCost > 0 ? formatWon(item.materialCost) : '-'}
                    </td>
                    <td className="py-2 text-right text-gray-600">
                      {item.laborCost > 0 ? formatWon(item.laborCost) : '-'}
                    </td>
                    <td className="py-2 text-right font-medium text-gray-900">
                      {formatWon(item.totalCost)}
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      );
    })}
  </div>
) : (
  // ê²¬ì  ìš”ì•½ íƒ­
)}
```

---

## âš ï¸ ë¬¸ì œì  ë¶„ì„

### 1. ìƒì„¸ê²¬ì ì´ ì˜ëª» ë‚˜ì˜¤ëŠ” ê°€ëŠ¥í•œ ì›ì¸

#### ë¬¸ì œ 1: ê³µê°„ í•„í„°ë§ ë¡œì§
```typescript
// í˜„ì¬ ì½”ë“œ (1269-1275ì¤„)
if (!space) return null;
if (space.items.length === 0) return null;
if (space.subtotal === 0 && key !== 'common') return null;
if (space.spaceName.includes('ë¯¸ì„ íƒ')) return null;
```

**ë¬¸ì œì :**
- `space.subtotal === 0` ì¡°ê±´ì´ ë„ˆë¬´ ì—„ê²©í•¨
- ê³µê°„ì´ ì„ íƒë˜ì—ˆì§€ë§Œ ê³„ì‚° ê²°ê³¼ê°€ 0ì¼ ìˆ˜ ìˆìŒ
- `space.spaceName.includes('ë¯¸ì„ íƒ')` ë¬¸ìì—´ ê²€ì‚¬ëŠ” ì·¨ì•½í•¨

#### ë¬¸ì œ 2: ê³µê°„ í‚¤ ë§¤í•‘ ë¶ˆì¼ì¹˜
```typescript
// calculator-v3.tsì—ì„œ ë°˜í™˜í•˜ëŠ” ê³µê°„ í‚¤
spaces: {
  common: ...,
  living: ...,
  kitchen: ...,
  bathroom: ...,        // 1ê°œì¼ ë•Œ
  masterBathroom: ...,  // 2ê°œ ì´ìƒì¼ ë•Œ (ì•ˆë°©)
  commonBathroom: ...,  // 2ê°œ ì´ìƒì¼ ë•Œ (ê³µìš©)
  storage: ...,
  window: ...,
  lighting: ...,        // ì˜µì…˜
  balcony: ...,         // ì˜µì…˜
  entrance: ...        // ì˜µì…˜
}
```

**ë¬¸ì œì :**
- `Object.entries()`ë¡œ ìˆœíšŒí•  ë•Œ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠìŒ
- ì˜µì…˜ ê³µê°„(`lighting`, `balcony`, `entrance`)ì´ `undefined`ì¼ ìˆ˜ ìˆìŒ

#### ë¬¸ì œ 3: í•­ëª© ëˆ„ë½ ê°€ëŠ¥ì„±
```typescript
// calculator-v3.tsì—ì„œ ê³µê°„ë³„ í•­ëª© ìƒì„± ì‹œ
// ì¡°ê±´ë¶€ë¡œ í•­ëª©ì„ ì¶”ê°€í•˜ëŠ” ê²½ìš°ê°€ ë§ìŒ
if (finalIncludeFoldingDoor && door.foldingDoorCost > 0) {
  livingSpace.items.push({...});
}
```

**ë¬¸ì œì :**
- ì¡°ê±´ì´ ë§ì§€ ì•Šìœ¼ë©´ í•­ëª©ì´ ì¶”ê°€ë˜ì§€ ì•ŠìŒ
- í•˜ì§€ë§Œ ê³µê°„ ìì²´ëŠ” ìƒì„±ë˜ì–´ `items.length === 0`ì´ ë  ìˆ˜ ìˆìŒ

### 2. ë””ë²„ê¹… ë°©ë²•

#### ì½˜ì†” ë¡œê·¸ í™•ì¸
```typescript
// calculator-v3.ts:1887-1904
console.log('ğŸ“‹ ìµœì¢… ê²¬ì  ê²°ê³¼:', {
  hasFinish, hasKitchenProcess, hasBathroomProcess, ...
});

console.log('ğŸ  ìµœì¢… ê²¬ì  ê³µê°„ í¬í•¨ ì—¬ë¶€:', {
  ê±°ì‹¤ë³µë„: finalLivingSpace.spaceName !== 'ê±°ì‹¤/ë³µë„ (ë¯¸ì„ íƒ)',
  ì£¼ë°©: finalKitchenSpace.spaceName !== 'ì£¼ë°© (ë¯¸ì„ íƒ)',
  ...
});
```

#### ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì—ì„œ í™•ì¸
```javascript
// estimate/page.tsxì—ì„œ
console.log('í˜„ì¬ ê²¬ì :', currentEstimate);
console.log('ê³µê°„ë³„ ë°ì´í„°:', currentEstimate?.spaces);
```

---

## ğŸ”§ ê°œì„  ë°©ì•ˆ

### 1. ìƒì„¸ê²¬ì  í•„í„°ë§ ë¡œì§ ê°œì„ 

```typescript
// ê°œì„ ëœ í•„í„°ë§
{Object.entries(currentEstimate?.spaces || {}).map(([key, space]) => {
  // 1. ê³µê°„ì´ ì—†ê±°ë‚˜ undefinedë©´ ì œì™¸
  if (!space) return null;
  
  // 2. ê³µê°„ëª…ì´ "(ë¯¸ì„ íƒ)"ì´ë©´ ì œì™¸ (ë” ì •í™•í•œ ê²€ì‚¬)
  if (space.spaceName && space.spaceName.includes('(ë¯¸ì„ íƒ)')) return null;
  
  // 3. í•­ëª©ì´ ì—†ìœ¼ë©´ ì œì™¸ (ë‹¨, commonì€ ì˜ˆì™¸)
  if (!space.items || space.items.length === 0) {
    // common ê³µê°„ì€ í•­ìƒ í‘œì‹œ (ì² ê±°/ë³´ì–‘ì´ ì—†ì–´ë„)
    if (key === 'common') {
      // commonì´ì§€ë§Œ í•­ëª©ì´ ì—†ìœ¼ë©´ í‘œì‹œí•˜ì§€ ì•ŠìŒ
      return null;
    }
    return null;
  }
  
  // 4. ì†Œê³„ê°€ 0ì´ë©´ ì œì™¸ (ë‹¨, commonì€ ì˜ˆì™¸)
  if (space.subtotal === 0 && key !== 'common') return null;
  
  // ë‚˜ë¨¸ì§€ ë Œë”ë§...
})}
```

### 2. ê³µê°„ ìˆœì„œ ë³´ì¥

```typescript
// ê³µê°„ í‘œì‹œ ìˆœì„œ ì •ì˜
const SPACE_DISPLAY_ORDER = [
  'common',
  'living',
  'kitchen',
  'subKitchen',
  'bathroom',
  'masterBathroom',
  'commonBathroom',
  'storage',
  'window',
  'lighting',
  'balcony',
  'entrance'
];

// ìˆœì„œëŒ€ë¡œ í‘œì‹œ
{SPACE_DISPLAY_ORDER
  .filter(key => {
    const space = currentEstimate?.spaces[key as keyof typeof currentEstimate.spaces];
    if (!space) return false;
    if (space.spaceName?.includes('(ë¯¸ì„ íƒ)')) return false;
    if (!space.items || space.items.length === 0) return false;
    if (space.subtotal === 0 && key !== 'common') return false;
    return true;
  })
  .map(key => {
    const space = currentEstimate?.spaces[key as keyof typeof currentEstimate.spaces];
    // ë Œë”ë§...
  })}
```

### 3. ë””ë²„ê¹… ì •ë³´ ì¶”ê°€

```typescript
// ìƒì„¸ê²¬ì  íƒ­ì— ë””ë²„ê¹… ì •ë³´ í‘œì‹œ (ê°œë°œ ëª¨ë“œ)
{process.env.NODE_ENV === 'development' && (
  <div className="mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-xs">
    <p className="font-bold mb-2">ğŸ” ë””ë²„ê¹… ì •ë³´</p>
    <pre className="overflow-auto">
      {JSON.stringify(
        Object.entries(currentEstimate?.spaces || {}).map(([key, space]) => ({
          key,
          spaceName: space?.spaceName,
          itemsCount: space?.items?.length || 0,
          subtotal: space?.subtotal || 0,
          willDisplay: space && 
                      space.items && 
                      space.items.length > 0 && 
                      (space.subtotal > 0 || key === 'common') &&
                      !space.spaceName?.includes('(ë¯¸ì„ íƒ)')
        })),
        null,
        2
      )}
    </pre>
  </div>
)}
```

---

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒì„¸ê²¬ì ì´ ì˜ëª» ë‚˜ì˜¬ ë•Œ í™•ì¸í•  ì‚¬í•­:

- [ ] `currentEstimate`ê°€ `null`ì´ ì•„ë‹Œì§€
- [ ] `currentEstimate.spaces`ê°€ ì¡´ì¬í•˜ëŠ”ì§€
- [ ] ê° ê³µê°„ì˜ `items` ë°°ì—´ì´ ë¹„ì–´ìˆì§€ ì•Šì€ì§€
- [ ] ê° ê³µê°„ì˜ `subtotal`ì´ 0ì´ ì•„ë‹Œì§€ (common ì œì™¸)
- [ ] ê³µê°„ëª…ì— "(ë¯¸ì„ íƒ)"ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ëŠ”ì§€
- [ ] ë¸Œë¼ìš°ì € ì½˜ì†”ì— ì—ëŸ¬ê°€ ì—†ëŠ”ì§€
- [ ] ê³„ì‚° ë¡œì§ì—ì„œ ê³µê°„ì´ ì œëŒ€ë¡œ ìƒì„±ë˜ì—ˆëŠ”ì§€ (calculator-v3.ts ë¡œê·¸ í™•ì¸)

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **í˜„ì¬ ë¬¸ì œ ì¬í˜„**: ì–´ë–¤ ê³µê°„ì´ í‘œì‹œë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸
2. **ì½˜ì†” ë¡œê·¸ í™•ì¸**: `currentEstimate.spaces` êµ¬ì¡° í™•ì¸
3. **í•„í„°ë§ ë¡œì§ ìˆ˜ì •**: ìœ„ì˜ ê°œì„  ë°©ì•ˆ ì ìš©
4. **í…ŒìŠ¤íŠ¸**: ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ë¡œ í…ŒìŠ¤íŠ¸
