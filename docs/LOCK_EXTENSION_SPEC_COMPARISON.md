# LOCK 공정 확장 명세서 비교 분석

## 📊 명세서 비교 점수

| 평가 항목 | 명세서 1 | 명세서 2 | 명세서 3 | 비고 |
|----------|---------|---------|---------|------|
| **명확성** | 25/40 | 20/40 | 38/40 | 규칙 정의 명확도 |
| **구현 난이도** | 15/30 | 22/30 | 28/30 | 코드 복잡도, 유지보수성 |
| **실용성** | 20/30 | 18/30 | 27/30 | 실제 사용 시나리오 대응 |
| **총점** | **60/100** | **60/100** | **93/100** | |

---

## 📋 명세서별 상세 분석

### 명세서 1: lockStrength 기반 동적 판단

**장점:**
- ✅ lockStrength 값에 따라 유연하게 대응
- ✅ 질문 답변과 직접 연동

**단점:**
- ❌ lockStrength 임계값(70, 40)이 임의적
- ❌ 공정별 특성 반영 부족
- ❌ 구현 복잡도 높음 (3단계 분기)

**점수: 60/100**
- 명확성: 25/40 (임계값 기준이 모호)
- 구현 난이도: 15/30 (복잡한 조건 분기)
- 실용성: 20/30 (공정 특성 무시)

---

### 명세서 2: 조건부 LOCK, canOverride 제어

**장점:**
- ✅ 간단한 구조
- ✅ canOverride로 제어 가능

**단점:**
- ❌ "조건부 LOCK" 규칙이 모호함
- ❌ 방수/전기 구체적 조건 미명시
- ❌ 우선순위 처리 불명확

**점수: 60/100**
- 명확성: 20/40 (규칙이 추상적)
- 구현 난이도: 22/30 (구현은 쉬우나 규칙 불명확)
- 실용성: 18/30 (실제 시나리오 대응 어려움)

---

### 명세서 3: 공정별 명확한 규칙 + 우선순위

**장점:**
- ✅ 공정별 구체적 규칙 (욕실 포함 = 방수 hard)
- ✅ 우선순위 명시 (철거 > 방수 > 전기)
- ✅ defaultPlan = standard 명확
- ✅ 구현 난이도 낮음
- ✅ 실용성 높음

**단점:**
- ⚠️ lockStrength 무시 (하지만 명확성 우선)

**점수: 93/100**
- 명확성: 38/40 (규칙이 매우 명확)
- 구현 난이도: 28/30 (간단하고 명확)
- 실용성: 27/30 (실제 시나리오 완벽 대응)

---

## 🎯 최종 추천: 명세서 3

**이유:**
1. **명확성 최고**: 공정별 구체적 규칙으로 혼란 없음
2. **구현 용이**: 조건 분기 최소화, 우선순위 명확
3. **실용성**: 실제 시나리오(욕실 포함, 회로 증설) 완벽 대응
4. **유지보수**: 규칙 추가/수정이 쉬움

**명세서 3 채택 시 예상 작업 시간:**
- 구현: 2시간
- 테스트: 1시간
- **총 3시간**

---

## 📝 명세서 3 기반 구현 계획

1. `process-classification.ts`: 방수/전기 LOCK 옵션 확인 (이미 존재)
2. `InterventionEngine.ts`: 공정별 LOCK 규칙 추가
3. LOCK 강도 판단: 공정 메타데이터 + choiceVariables.lockStrength
4. 우선순위: 철거 > 방수 > 전기

**구현 범위:**
- ✅ 기존 철거 LOCK 유지
- ✅ 방수 LOCK 추가 (욕실 포함 시)
- ✅ 전기 LOCK 추가 (회로 증설/분전반 시)
- ✅ 우선순위 처리












