# 영역별 공정 매핑 테스트 가이드

## 테스트 시나리오

### 1. 거실만 선택한 경우
**선택된 영역**: `['living']`

**예상 공정 코드**:
- 200 (목공)
- 600 (도장 → 기타)
- 700 (필름)
- 800 (창호 → 기타)
- 900 (도배)
- 1000 (철거)

**화면에 표시될 공정**:
- ✅ 목공
- ✅ 도배
- ✅ 필름
- ✅ 기타
- ✅ 철거
- ❌ 주방 (비활성화)
- ❌ 욕실 (비활성화)
- ❌ 타일 (비활성화)
- ⚠️ 전기 (포함 안됨 - 선택사항)

---

### 2. 주방만 선택한 경우
**선택된 영역**: `['kitchen']`

**예상 공정 코드**:
- 100 (주방)
- 500 (타일)
- 1000 (철거)

**화면에 표시될 공정**:
- ✅ 주방 (+ 주방 옵션 선택 가능)
- ✅ 타일
- ✅ 철거
- ❌ 목공 (비활성화)
- ❌ 욕실 (비활성화)
- ❌ 도배 (비활성화)
- ❌ 필름 (비활성화)
- ❌ 기타 (비활성화)
- ⚠️ 전기 (포함 안됨 - 선택사항)

---

### 3. 욕실만 선택한 경우
**선택된 영역**: `['bathroom']`

**예상 공정 코드**:
- 400 (욕실)
- 500 (타일)
- 1000 (철거)

**화면에 표시될 공정**:
- ✅ 욕실
- ✅ 타일
- ✅ 철거
- ❌ 주방 (비활성화)
- ❌ 목공 (비활성화)
- ❌ 도배 (비활성화)
- ❌ 필름 (비활성화)
- ❌ 기타 (비활성화)
- ⚠️ 전기 (포함 안됨 - 선택사항)

---

### 4. 거실 + 주방 선택한 경우
**선택된 영역**: `['living', 'kitchen']`

**예상 공정 코드**:
- 100 (주방)
- 200 (목공)
- 500 (타일)
- 600 (도장 → 기타)
- 700 (필름)
- 800 (창호 → 기타)
- 900 (도배)
- 1000 (철거)

**화면에 표시될 공정**:
- ✅ 주방
- ✅ 목공
- ✅ 타일
- ✅ 도배
- ✅ 필름
- ✅ 기타
- ✅ 철거
- ❌ 욕실 (비활성화)
- ⚠️ 전기 (포함 안됨 - 선택사항)

---

### 5. 침실만 선택한 경우
**선택된 영역**: `['bedroom']`

**예상 공정 코드**:
- 200 (목공)
- 900 (도배)
- 1000 (철거)

**화면에 표시될 공정**:
- ✅ 목공
- ✅ 도배
- ✅ 철거
- ❌ 주방 (비활성화)
- ❌ 욕실 (비활성화)
- ❌ 타일 (비활성화)
- ❌ 필름 (비활성화)
- ❌ 기타 (비활성화)
- ⚠️ 전기 (포함 안됨 - 선택사항)

---

### 6. 전체 리모델링
**선택된 영역**: `['fullhome']` 또는 `['full']`

**화면에 표시될 공정**:
- ✅ 모든 공정 활성화
- "전체 리모델링이 선택되었습니다" 메시지 표시

---

## 콘솔 로그 확인

브라우저 개발자 도구(F12)에서 다음 로그를 확인하세요:

```javascript
✅ 영역 선택 완료: { selectedAreas: [...], spaceInfo: {...} }
🔍 공정 선택 페이지 로드: { analysisId: 'xxx' }
🔍 분석 데이터 확인: 존재함
🏠 선택된 영역: ['living']
📋 영역별 필요 공정 코드: ['200', '600', '700', '800', '900', '1000']
✅ 사용 가능한 공정: ['목공', '기타', '필름', '도배', '철거']
```

---

## 데이터 흐름

1. **영역 선택** (`/space-area`)
   - `sessionStorage.spaceInfo.areas` 에 저장
   - `sessionStorage.selectedAreas` 에도 저장

2. **성향 분석** (`/analysis/[mode]` 또는 `/analyze`)
   - `sessionStorage.analysis_${analysisId}` 에 저장
   - `spaceInfo.areas` 포함

3. **공정 선택** (`/process-select`)
   - `sessionStorage.analysis_${analysisId}` 에서 읽기
   - `spaceInfo.areas` 또는 `selectedAreas` 추출
   - `getDefaultProcessesByAreas(areas)` 호출
   - 공정 코드 → 공정 이름 변환
   - UI에 반영

---

## 주의사항

### 전기 공정은 선택사항
- 기본 매핑에서는 제외됨
- 사용자가 수동으로 추가할 수 있음

### '도장'과 '창호' 공정
- `processMapper.ts`에는 정의되어 있음
- 공정 선택 UI에는 별도 공정이 없음
- '기타' 공정으로 매핑됨

### 중복 제거
- `getDefaultProcessesByAreas()`에서 자동으로 중복 제거
- 거실+주방 선택 시 '철거'가 한 번만 표시됨











