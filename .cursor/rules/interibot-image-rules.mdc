# interibot-image-rules

# 아르젠 인테리봇 – 인테리어 이미지 전용 규칙 (.cursorrules)

---

## 0. Assistant 역할

- 너는 **아르젠 인테리봇의 인테리어 이미지 생성에 최선을 다해야한다**이다.

- 목적:

  - 고객 성향 분석 결과 + 공간 타입(거실/주방/욕실)을 받아

  - **한국 아파트 현실 비율 + 실제 시공 가능한 인테리어 이미지**가 나오도록

  - DALL·E 3(`gpt-image-1`) 프롬프트를 자동으로 조립한다.

- 항상 **한국 아파트 기준**, **현실적인 구조/자재/조명**을 우선한다.

---

## 1. 공통 이미지 규칙 (모든 프롬프트에 무조건 포함)

프롬프트를 만들 때, 아래 의미를 항상 포함하도록 문장을 조합한다:

- `realistic korean apartment interior`

- `2.3m~2.4m ceiling`

- 실제 시공 가능한 구조, 현실적인 비율

- 재료/질감/조명은 과장 없이 사실적으로 표현

- 과도한 장식 금지

- 유럽식 대형 통창, 유리벽, 과장된 자연광 금지

- 비현실적인 초광각(wide-angle) 금지

- 시점: 사람 눈 높이, 24~35mm 수준의 자연스러운 렌즈

- `quality: hd`

- `style: natural`

- "궁전 느낌", "호텔 로비 느낌" 같은 과한 럭셔리 분위기 배제

> 어떤 공간 타입이든, 최종 프롬프트에는 위 특성이 항상 녹아 있어야 한다.

---

## 2. 공간 타입별 프롬프트 규칙

### 2-1. 거실 (living)

**의도:**  

한국 25~34평형 아파트 거실, 아르젠이 시공 가능한 모던/내추럴/북유럽 계열 거실.

**필수 요소:**

- 대한민국 25~34평 아파트 거실 비율

- 스타일: `{mainStyleKor}`  

  - 예: 모던&미니멀, 호텔 라이크, 북유럽, 내추럴 우드 등

- 메인 컬러: `{mainColor}`, 서브 컬러: `{subColor}`

- 바닥: `{floorKor}`  

  - 예: 밝은 톤 강마루, 다크톤 강마루, 대형 포세린 타일 등

- 벽: 화이트 실크벽지 또는 라이트 그레이 도장

- 천장: 2.3~2.4m, 간접조명 라인 + 매입등

- TV 포인트월: `{pointKor}`  

  - 예: 템바보드, 대형 포세린 타일, 마이크로 시멘트 등

- 창호: 한국 아파트 비율, 과한 통창/통유리는 배제

- 가구: 미니멀 소파 + 슬림 TV장 + 러그

**거실용 영어 키워드 예시(마지막에 포함):**

- `realistic korean apartment living room`

- `no exaggerated decoration`

- `no huge windows`

- `hd, natural`

---

### 2-2. 주방 (kitchen)

**의도:**  

한국 아파트의 현실적인 주방 구조(일자/ㄱ자/ㄷ자/아일랜드), 실제 시공 가능한 설계 느낌.

**필수 요소:**

- 대한민국 아파트 `{layoutType}` 주방  

  - layoutType 예: 일자형, ㄱ자형, ㄷ자형, 아일랜드형

- 스타일: `{mainStyleKor}`

- 상부장 컬러: `{upperColor}`

- 하부장 컬러: `{lowerColor}`

- 상판 재질: `{counterMaterial}`  

  - 예: 화이트 인조대리석, 라이트 그레이 엔지니어드 스톤

- 벽 타일: `{tileColor}`, 줄눈은 얇게 표현

- 바닥: `{floorKor}` (데코타일/포세린/강마루 등)

- 가전: 빌트인 위주(인덕션, 후드, 빌트인 냉장고 등 자연스럽게 배치)

- 조명: 상부 간접조명 + 매입등, 과한 샹들리에 금지

**주방용 영어 키워드 예시(마지막에 포함):**

- `realistic korean apartment kitchen`

- `practical and buildable design`

- `no unrealistic giant windows`

- `hd, natural`

---

### 2-3. 욕실 (bathroom)

**의도:**  

한국 아파트 메인 욕실, 호텔 느낌은 나지만 "현실 시공 가능한 수준"의 호텔라이크/모던/북유럽.

**필수 요소:**

- 대한민국 아파트 메인 욕실

- 스타일: `{bathStyle}`  

  - 예: 호텔라이크, 모던, 북유럽

- 바닥: 미끄럼 방지 포세린 타일 `{floorColor}`

- 벽: 상부 밝은 톤 타일 + 하부 중간 톤 타일, 줄눈 선이 과도하게 강조되지 않게

- 세면대: 일자 카운터형 세면대 + 하부 수납장

- 거울장: 긴 일자형 거울장 + 상부 간접조명

- 샤워부스: 투명 유리 파티션(프레임은 블랙 또는 스테인리스 정도)

- 전체 분위기 톤: `{tone}`  

  - 예: 따뜻한 베이지톤, 차분한 그레이톤 등

- 천장: 약 2.3m

**욕실용 영어 키워드 예시(마지막에 포함):**

- `realistic korean apartment bathroom`

- `no bathtub island`

- `no luxury hotel lobby feeling`

- `hd, natural`

---

## 3. 프롬프트 빌더를 위한 타입/데이터 구조 (코드 생성 지시)

Cursor가 코드 생성 시, 아래 타입과 인터페이스를 기준으로 만든다.

```ts
export type SpaceType = "living" | "kitchen" | "bathroom";

export interface StyleProfile {
  mainStyleKor: string;
  mainColor: string;
  subColor: string;
  floorKor: string;
  pointKor?: string;
  // kitchen 전용
  layoutType?: string;
  upperColor?: string;
  lowerColor?: string;
  counterMaterial?: string;
  tileColor?: string;
  // bathroom 전용
  bathStyle?: string;
  floorColor?: string;
  tone?: string;
}
```

## 4. 프롬프트 빌더 함수 규칙

Cursor는 위 타입을 사용해, 아래와 같은 형태의 프롬프트 빌더 함수를 생성하거나 수정해야 한다.

```ts
export function buildImagePrompt(
  space: SpaceType,
  p: StyleProfile
): string {
  const base = `
realistic korean apartment interior,
2.3m~2.4m ceiling,
practical and buildable,
human-eye-level, 24-35mm lens,
quality: hd,
style: natural,
no exaggerated decoration,
no huge european windows,
no palace feeling`;

  if (space === "living") {
    return `
대한민국 25~34평 아파트 거실.
스타일: ${p.mainStyleKor}
메인 컬러: ${p.mainColor}, 서브 컬러: ${p.subColor}
바닥: ${p.floorKor}
TV 포인트월: ${p.pointKor}
${base}
realistic korean apartment living room render.
    `.trim();
  }

  if (space === "kitchen") {
    return `
대한민국 아파트 ${p.layoutType} 주방.
스타일: ${p.mainStyleKor}
상부장: ${p.upperColor}, 하부장: ${p.lowerColor}
상판: ${p.counterMaterial}
벽 타일: ${p.tileColor}
바닥: ${p.floorKor}
${base}
realistic korean apartment kitchen render.
    `.trim();
  }

  if (space === "bathroom") {
    return `
대한민국 아파트 메인 욕실.
스타일: ${p.bathStyle}
바닥: 포세린 타일 ${p.floorColor}
전체 톤: ${p.tone}
${base}
realistic korean apartment bathroom render.
    `.trim();
  }

  return base.trim();
}
```

위 함수는 예시이며, Cursor는 이 구조를 기준으로 안전하게 리팩터링/보완할 수 있다.

핵심은:
- base 블록에 "공통 한국 아파트 현실 규칙"을 모두 넣고
- 각 공간 타입에서 한국어 설명 + 공간별 영어 키워드를 추가하는 구조를 유지하는 것이다.

## 5. Next.js API 라우트 생성 규칙

Cursor는 아래 스펙을 만족하는 API 라우트를 자동으로 생성/유지해야 한다.

```ts
// POST /api/image/generate
import { openai } from "@/lib/openai";
import { buildImagePrompt } from "@/lib/prompt";

export async function POST(req: Request) {
  const { space, profile } = await req.json();
  const prompt = buildImagePrompt(space, profile);
  const image = await openai.images.generate({
    model: "gpt-image-1",
    prompt,
    size: "1024x1024",
    quality: "hd",
    style: "natural",
  });
  return Response.json({ url: image.data[0].url });
}
```

- `space`: "living" | "kitchen" | "bathroom"
- `profile`: StyleProfile 형태의 객체
- `buildImagePrompt`에서 최종 프롬프트를 조립한 뒤 `gpt-image-1`에 전달한다.
